<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>Save Method</title>
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Keyword_Table.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../idl_CSH.html#IDL Graphics/Save Method.html" style="">Open topic with navigation</a>
        </p>
        <h1 class="ObjMethod"><a name="kanchor5242"></a>Save Method<img src="images/save_method_ex.gif" class="ImgFloatRight" /></h1>
        <p>The Save method saves the window contents of an IDL Graphic to an image file.</p>
        <h2 MadCap:conditions="">Example</h2>
        <p MadCap:conditions="" class="Body">The following code sample creates a bar plot and saves the image to a PNG file.</p>
        <p class="Code">x = FINDGEN(41)/10 - 2</p>
        <p class="Code">gauss = EXP(-x^2)</p>
        <p class="Code">p = BARPLOT(x, gauss, TITLE='Gaussian Distribution', $</p>
        <p class="Code">XTITLE='$\it x$', YTITLE='$\it f(x)$', YRANGE=[0,1.1])</p>
        <p class="Code">t = TEXT(0.75,0.85,'$\it f(x)=exp(-x^2)$', /DATA, FONT_SIZE=24)</p>
        <p class="Code">p.Save, "gaussian.png", BORDER=10, RESOLUTION=300, /TRANSPARENT</p>
        <h3>Additional Examples</h3>
        <p>See <a href="#Addition" target="" title="" alt="" class="MCXref">Additional Examples</a> for more code examples using the Save method.</p>
        <h2>Syntax</h2>
        <p class="Syntax"><i>graphic</i>.Save, <i>Filename</i></p>
        <h2>Arguments</h2>
        <h3 class="Argument">Filename</h3>
        <p>A string containing the full pathname of the file to which the graphic should be written.</p>
        <p>The file format of the saved file is determined from the <i>Filename</i> file suffix. For example, if <i>Filename </i>is <code>image.bmp</code>, the file is saved in bitmap format.</p>
        <p>The supported file formats are listed in the following table:</p>
        <table style="mc-table-style: url('../Resources/TableStyles/Keyword_Table.css');caption-side: top;margin-left: auto;margin-right: auto;" class="TableStyle_Keyword_Table" cellspacing="0">
            <col style="width: 134px;" />
            <col style="width: 287px;" />
            <col style="width: 385px;" />
            <thead>
                <tr>
                    <th class="TableStyle_Keyword_Table_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">File Suffix</p>
                    </th>
                    <th class="TableStyle_Keyword_Table_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">File Format</p>
                    </th>
                    <th class="TableStyle_Keyword_Table_Head_0_0_RowSep_ColEnd">Allowed Keywords</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">BMP</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Windows bitmap </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">BORDER</td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">EMF</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">Windows enhanced metafile </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">BITMAP</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">EPS, PS</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Encapsulated PostScript </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">BITMAP, CMYK</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">GIF</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">GIF image </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">APPEND, BORDER, CLOSE</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">JPG, JPEG</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">JPEG image </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">BORDER</td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">JP2, JPX, J2K</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">JPEG2000 image </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">BORDER, REVERSIBLE</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">KML</td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">Open Geospatial Consortium (OGC) Keyhole Markup Language</td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">&#160;</td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">KMZ</td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p>A compressed and zipped version of KML.</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">&#160;</td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">PDF</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Portable document format </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">APPEND, BITMAP, CENTIMETERS, CLOSE, LANDSCAPE, PAGE_SIZE, XMARGIN, YMARGIN</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">PICT</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">Macintosh PICT image </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">BIT_DEPTH, BORDER</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">PNG</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">PNG image </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">BIT_DEPTH, BORDER, TRANSPARENT</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">TIF, TIFF </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">TIFF image </p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">BIT_DEPTH, BORDER, CMYK, COMPRESSION, TRANSPARENT</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Keywords</h2>
        <h3 class="Keyword">APPEND</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for GIF and PDF files.</p>
        <p>Set this keyword to keep the file open after writing out the graphics. The next call to the Save method will then append the new graphics onto the same file. In the final call to Save you should specify both /APPEND and /CLOSE to ensure that the file is closed. See <a href="#Addition" target="" title="" alt="" class="MCXref">Additional Examples</a> for a code sample that uses APPEND.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>When creating multi-image GIF files, the Save method with /APPEND may be called either from the same graphics object or different graphics objects. In either case, you should ensure that the image dimensions are the same for each call to the Save method.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>When creating multi-page PDF files, the Save method with /APPEND may be called either from the same graphics object or different graphics objects. In either case, a new page will be added to the PDF file for each call to the Save method.</p>
        <h3 class="Keyword">BIT_DEPTH</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for PICT, PNG, and TIFF files.</p>
        <p>Set this keyword to one of the following values:</p>
        <table style="mc-table-style: url('../Resources/TableStyles/Keyword_Table.css');margin-left: auto;margin-right: auto;caption-side: top;" class="TableStyle_Keyword_Table" cellspacing="0">
            <col style="width: 26px;" />
            <col style="width: 50%;" />
            <tbody>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">0</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Automatic (the default is 24-bit for all formats except PICT, which only supports 8-bit)</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">1</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">8-bit (indexed color)</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">2</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">24-bit</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="Keyword">BITMAP</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for EMF, EPS, and PDF files.</p>
        <p>For EMF, EPS, and PDF files, the default behavior is to output 2D graphics (such as PLOTs and CONTOURs) in vector format, and 3D graphics in bitmap format. Set this keyword to 1 to force output in bitmap format, or to 0 to force output in vector format. Files in bitmap format will be larger but may give more accurate output (especially for transparency and 3D graphics). Files in vector format will be smaller and allow the resulting file to be edited in external programs.</p>
        <h3 class="Keyword">BORDER</h3>
        <p>By default, the saved graphic includes all of the background regions around the graphic, out to the edge of the window. Set this keyword to an integer defining the width of the border around the graphic. For example, setting BORDER=0 will trim the graphic so that there are no extra border pixels surrounding the graphic. This keyword is ignored if the output is in vector format (BITMAP=0).</p>
        <h3 class="Keyword">CENTIMETERS</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for PDF files.</p>
        <p>Set this keyword to indicate that the PAGESIZE, WIDTH, HEIGHT, XMARGIN, and YMARGIN values are in centimeters. The default is inches.</p>
        <h3 class="Keyword">CLOSE</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for GIF and PDF files.</p>
        <p>After writing multiple images with the APPEND keyword, use this keyword on the final call to the Save method. For GIF files, CLOSE saves the data and properly closes the file. For PDF files, CLOSE  clears the buffer.</p>
        <p>See <a href="#Addition" target="" title="" alt="" class="MCXref">Additional Examples</a> for a code sample that uses CLOSE.</p>
        <h3 class="Keyword">CMYK</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for EPS and TIFF files.</p>
        <p>Set this keyword to save the output image in CMYK format. The default format is RGB. This keyword is ignored if TRANSPARENT is set.</p>
        <h3 class="Keyword">COMPRESSION</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for TIFF files.</p>
        <p>Set this keyword to 0 for no compression (the default), to 1 for Pack bits compression, or to 2 for JPEG compression.</p>
        <h3 class="Keyword">HEIGHT</h3>
        <p>For image or bitmap files, set this keyword to the height in pixels of the output image. If this keyword is set, the RESOLUTION keyword is ignored and the width is automatically calculated from the window's aspect ratio.</p>
        <p>For PDF files, set this keyword to the height in inches (or centimeters if CENTIMETERS is set) of the graphics output. If this keyword is set, the width is automatically calculated from the window's aspect ratio.</p>
        <h3 class="Keyword">LANDSCAPE</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for PDF files.</p>
        <p>Set this keyword to indicate that the PDF output should be drawn in landscape orientation. The default is portrait orientation.</p>
        <h3 class="Keyword">PAGE_SIZE</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for PDF files.</p>
        <p>Set this keyword to a string or a two-element vector [<i>width</i>, <i>height</i>] giving the page size in inches (or centimeters if CENTIMETERS is set). The default value is [8.5, 11]. Allowed string values are "Letter", "Legal", "A4", and "A5".</p>
        <h3 class="Keyword">RESOLUTION</h3>
        <p>Set this keyword to the output resolution (in dots per inch) to use when saving the window to an image or bitmap file format. If this keyword is not supplied, a default value of 600 DPI is used. The maximum output dimensions are 8192 x 8192. If the output dimensions are larger than these values, the resolution will be automatically reduced. This keyword is ignored if the output is in vector format (BITMAP=0).</p>
        <h3 class="Keyword">REVERSIBLE</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for JPEG2000 files.</p>
        <p>Set this keyword to use reversible (lossless) compression. The default behavior is to use irreversible (lossy) compression.</p>
        <h3 class="Keyword">TRANSPARENT</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for PNG and TIFF files.</p>
        <p>Set this keyword to an RGB value (a three-element vector of the form [<i>R, G, B</i>]) indicating which pixels in the output image should be made transparent. If this keyword is set to 1, the color of the lower left pixel in the image is used as the transparent color.</p>
        <h3 class="Keyword">WIDTH</h3>
        <p>For image or bitmap files, set this keyword to the width in pixels of the output image. If this keyword is set, the RESOLUTION keyword is ignored and the height is automatically calculated from the window's aspect ratio.</p>
        <p>For PDF files, set this keyword to the width in inches (or centimeters if CENTIMETERS is set) of the graphics output. If this keyword is set, the height is automatically calculated from the window's aspect ratio.</p>
        <h3 class="Keyword">XMARGIN</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for PDF files.</p>
        <p>Set this keyword to the x-offset from the lower-left corner of the page in inches (or centimeters if CENTIMETERS is set). The default behavior is to center the graphics on the page.</p>
        <h3 class="Keyword">YMARGIN</h3>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is valid only for PDF files.</p>
        <p>Set this keyword to the y-offset from the lower-left corner of the page in inches (or centimeters if CENTIMETERS is set). The default behavior is to center the graphics on the page.</p>
        <h2><a name="Addition"></a>Additional Examples</h2>
        <p>The following example uses three plot graphics to create a multi-page PDF file. Each time we call the Save method we use the /APPEND keyword, and on the last call we add the /CLOSE keyword to clear out the PDF buffer.</p>
        <p class="Code">PRO appendPDF_ex</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Create an array of graphic pointers</p>
        <p class="Code">p = OBJARR(3)</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Create three plots with random data</p>
        <p class="Code">FOR i = 0, 2 DO BEGIN</p>
        <p class="Code">&#160;&#160;t = 0.1*FINDGEN(50)</p>
        <p class="Code">&#160;&#160;y = SMOOTH(RANDOMU(seed,50), 5)</p>
        <p class="Code">&#160;&#160;p[i] = PLOT(t,y,'b', SYMBOL='D', $</p>
        <p class="Code">&#160;&#160;&#160;&#160;TITLE='Observation'+STRING(i+1))</p>
        <p class="Code">ENDFOR</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Build the multi-page PDF file, one page at a time</p>
        <p class="Code">p[0].Save, 'data1.pdf', /APPEND</p>
        <p class="Code">p[1].Save, 'data1.pdf', /APPEND</p>
        <p class="Code">p[2].Save, 'data1.pdf', /APPEND, /CLOSE</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <h2>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_ColSep">
                        <p class="CellBody">8.0</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">8.1</td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Added the following keywords: CLOSE, APPEND.</p>
                        <p class="CellBody">KML/KMZ support was introduced.</p>
                        <p class="CellBody">Multipage PDF support was introduced.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>See Also</h2>
        <p><a href="Print Method.html" target="" title="" alt="" class="MCXref">Print Method</a>,
		<a href="../GuideMe/Using IDL Graphics.html" target="" title="" alt="" class="MCXref">Using IDL Graphics</a></p>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>