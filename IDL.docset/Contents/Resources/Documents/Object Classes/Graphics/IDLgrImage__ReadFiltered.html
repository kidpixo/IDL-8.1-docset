<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="IDL Programming|Objects|Graphics Object Classes|IDLgrImage" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>IDLgrImage::ReadFilteredData</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Keyword_Table.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Table_No_Title.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Object Classes/Graphics/IDLgrImage__ReadFiltered.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../IDL Programming.html">IDL Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../ref_part2.html">Objects</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="objects_gr.html">Graphics Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="IDLgrImage.html">IDLgrImage</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDLgrImage::ReadFilteredData</span>
        </div>
        <h1 class="ObjMethod"><a name="objects_gr_2157407275_1812558"></a><a name="objects_gr_2157407275_71372"></a>IDLgrImage::ReadFilteredData</h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="IDLgrImage__SetTileData.html#objects_gr_2157407275_1667913">Syntax</a> | <a class="MCXref" href="IDLgrImage__SetTileData.html#objects_gr_2157407275_1667918">Arguments</a> | <a class="MCXref" href="IDLgrImage__SetTileData.html#objects_gr_2157407275_1667921">Keywords</a> | <a class="MCXref" href="IDLgrImage__SetTileData.html#objects_gr_2157407275_1667924">Version History</a></MadCap:conditionalText>
        </p>
        <p>The I<a name="kanchor4207"></a>DLgrImage::<a name="kanchor4208"></a>ReadFilteredData function method returns image data after a shader program (contained in an <a class="MCXref" href="IDLgrShader.html#objects_gr_2157407275_1789376">IDLgrShader</a> object or object subclassed from IDLgrShader) has been applied, or after one or more shaders (contained in an <a class="MCXref" href="IDLgrFilterChain.html#objects_gr_2157407275_1808615">IDLgrFilterChain</a> object) have been applied. </p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If there is sufficient hardware support for IDLgrShader programs, this method will complete the shader operations and read the results generated by the graphic card’s GPU (Graphic Processing Unit). If there is insufficient support or if software rendering has been specified, the software-based alternative will be used if you have provided one.   <![CDATA[ ]]></p>
        <h2>Syntax</h2>
        <p class="Syntax"><i>Result = Obj</i>-&gt;[<a class="MCXref" href="IDLgrImage.html#objects_gr_2157407275_1010038">IDLgrImage</a>::]ReadFilteredData( <i>Dest </i>[,&#160;<a class="MCXref" href="#objects_gr_2157407275_1812656">DATA_TYPE</a>=<i>value</i>] [,&#160;<a class="MCXref" href="#objects_gr_2157407275_1812765">READ_POSITION</a>=<i>value</i>] [,&#160;<a class="MCXref" href="#objects_gr_2157407275_1812736">TILE</a>=<i>tileinfo</i>] )</p>
        <h2>Return Value </h2>
        <p>Returns an array containing the filtered image data. The returned array is always of dimensions [4, <i>w</i>, <i>h</i>] where <i>w</i> is the width of the returned image and <i>h</i> is the height. The data is always pixel interleaved RGBA. The type of the returned data is determined by the <a class="MCXref" href="#objects_gr_2157407275_1812656">DATA_TYPE</a> keyword.</p>
        <p>If there was an error this method returns 0.</p>
        <h2>Arguments</h2>
        <h3 class="Argument">Dest</h3>
        <p>A object reference to a graphics destination object, (e.g. IDLgrWindow). </p>
        <h2>Keywords</h2>
        <h3 class="Keyword"><a name="objects_gr_2157407275_1812656"></a><a name="objects_gr_2157407275_74670"></a>DATA_TYPE</h3>
        <p>Set this to one of the following allowable values to specify the data type of the returned data: </p>
        <table style="width: 245px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Keyword_Table.css');" class="TableStyle_Keyword_Table" cellspacing="0">
            <col width="81px" />
            <col width="164px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">0</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">BYTE (default)</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">1</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">INT</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">2</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">FLOAT</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">3</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">UINT</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The output of shader programs is always floating point so if 0, 1, or 3 is specified, the output is clamped to the range of 0.0 to 1.0 and then scaled to fill the requested data type range. If 2 is specified, the data is returned unmodified. The data is converted from floating point to the requested type as follows:</p>
        <table style="width: 453px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Table_No_Title.css');" class="TableStyle_Table_No_Title" cellspacing="0">
            <col width="193px" />
            <col width="260px" />
            <thead>
                <tr>
                    <td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Requested Type</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColEnd">
                        <p class="CellHeading">Conversion from Floating Point (f)</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_0_0_ColSep">
                        <p class="CellCentered">BYTE (0)</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_ColEnd">
                        <p class="CellCentered"><i>c </i>= (2<sup>8</sup>-1)<i>f</i></p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColSep">
                        <p class="CellCentered">INT (1)</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColEnd">
                        <p class="CellCentered"><i>c </i>= [(2<sup>16</sup>-1)<i>f -</i>1]/2</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_1_0_ColSep">
                        <p class="CellCentered">FLOAT (2)</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_1_0_ColEnd">
                        <p class="CellCentered"><i>c = f</i>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColSep">
                        <p class="CellCentered">UINT (3)</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColEnd">
                        <p class="CellCentered"><i>c </i>= (2<sup>16</sup>-1)<i>f</i></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="TableAnchor">&#160;</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>It is very important that this keyword and the IDLgrShader <a class="MCXref" href="IDLgrShader_Properties.html#objects_gr_2157407275_1807807">OUTPUT_DATA_TYPE</a> property are set in a consistent manner. For example, suppose you have UINT image data, but OUTPUT_DATA_TYPE is set to BYTE while DATA_TYPE is set to UINT. You will lose accuracy (due to the intermediate BYTE stage). In this example OUTPUT_DATA_TYPE should be set to FLOAT32 (or possibly FLOAT16 if only 10-bits of the UINT are used).</p>
        <p>If not set, BYTE data is returned by default. </p>
        <h3 class="Keyword"><a name="objects_gr_2157407275_1812765"></a><a name="objects_gr_2157407275_15199"></a>READ_POSITION</h3>
        <p>When the IDLgrImage <a class="MCXref" href="IDLgrImage_Properties.html#objects_gr_2157407275_1799401">SHADER</a> property has been set to an IDLgrFilterChain object, set this keyword to a scalar long value specifying the zero-based position in the chain from which the data should be read. </p>
        <p>For instance, if the filter chain contains a series of 3 shader objects, setting this keyword to one of the following values returns the specified data: </p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">0 reads the result without any shaders applied</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">1 reads the result after application of only the first shader</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">2 reads the result after application of the first and second shaders</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">3 reads the result after application of all three shaders</td>
            </tr>
        </table>
        <p>If this keyword isn't set then the default behavior is to return the image data after application of all filtering shaders in the filter chain.</p>
        <h3 class="Keyword"><a name="objects_gr_2157407275_1812736"></a><a name="objects_gr_2157407275_88470"></a>TILE</h3>
        <p>If the IDLgrImage is tiled (TILING=1) then this keyword must be set to a valid IDLIMAGETILE structure specifying the tile or tiles for which to return filtered data. For example, to retrieve the filtered data for the currently visible tiles call IDLgrWindow::QueryRequiredTiles, /ALL_VISIBLE, then for each tile call ReadFilteredData. </p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Data must be loaded into the tiles using <a class="MCXref" href="IDLgrImage__SetTileData.html#objects_gr_2157407275_1667909">IDLgrImage::SetTileData</a> before doing this.</p>
        <p>An error will be generated if the image is tiled and this keyword is not set to a valid IDLIMAGETILE structure. </p>
        <h2>Examples</h2>
        <p>Create an instance of the example object, <span class="Courier">shader_rgb_doc</span>, which includes the ability to capture an image and display the results in iImage. Run the example by creating an instance of the object at the IDL command prompt using <span class="Courier">orgbshader=OBJ_NEW("shader_rgb_doc")</span> or view the file in an IDL Editor window by entering <span class="Courier">.EDIT shader_rgb_doc__define</span>. </p>
        <h2>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">6.4</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>