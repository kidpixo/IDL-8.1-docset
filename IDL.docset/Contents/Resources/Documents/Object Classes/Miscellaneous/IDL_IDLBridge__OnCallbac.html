<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="IDL Programming|Objects|Miscellaneous Object Classes|IDL_IDLBridge" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>IDL_IDLBridge::OnCallback</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Table_No_Title.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Object Classes/Miscellaneous/IDL_IDLBridge__OnCallbac.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../IDL Programming.html">IDL Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../ref_part2.html">Objects</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="objects_misc.html">Miscellaneous Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="IDL_IDLBridge.html">IDL_IDLBridge</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDL_IDLBridge::OnCallback</span>
        </div>
        <h1 class="ObjMethod"><a name="objects_misc_904195448_1091592"></a><a name="objects_misc_904195448_81399"></a>IDL_IDLBridge::OnCallback</h1>
        <p class="CellBody">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#objects_misc_904195448_1091620">Syntax</a> | <a class="MCXref" href="#objects_misc_904195448_1091626">Arguments</a></MadCap:conditionalText>
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only">| <a class="MCXref" href="#objects_misc_904195448_1091661">Keywords</a> | <a class="MCXref" href="#objects_misc_904195448_1091664">Examples</a> | <a class="MCXref" href="#objects_misc_904195448_1091694">Version History</a></MadCap:conditionalText>
        </p>
        <p>The IDL_IDLBridge::<a name="kanchor4593"></a>OnCallback procedure method is called automatically when an asynchronous command ends. By default the IDL_IDLBridge::OnCallback method will check if the <a class="MCXref" href="IDL_IDLBridge_Properties.html#objects_misc_904195448_1087185">CALLBACK</a> property has been set, and if so, the method will automatically call the procedure indicated by the CALLBACK property. </p>
        <p>If you are using a subclass of IDL_IDLBridge, you may want to override the IDL_IDLBridge::OnCallback method to provide your own functionality. </p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This method is only called when executing an asynchronous command (when the <a class="MCXref" href="IDL_IDLBridge__Execute.html#objects_misc_904195448_1077295">NOWAIT</a> keyword has been set).</p>
        <p>When the asynchronous command is completed, aborted, or halted due to an error, the child IDL process calls back into the main IDL process. The main IDL process puts a callback event into the callback event queue for the bridge object. The callback queue for this bridge object is flushed (and the CALLBACK procedure or OnCallback method is called) when one of the following occurs:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The widget event queue is flushed by IDL’s widget event processing</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The user calls WIDGET_EVENT</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The user calls any IDL_IDLBridge method (except Abort)</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The user calls OBJ_DESTROY</td>
            </tr>
        </table>
        <h2><a name="objects_misc_904195448_1091620"></a><a name="objects_misc_904195448_72561"></a>Syntax</h2>
        <p class="Syntax"><i>Obj</i>-&gt;[<a class="MCXref" href="IDL_IDLBridge.html#objects_misc_904195448_1076300">IDL_IDLBridge</a>::]OnCallback, <i>Status</i>, <i>Error</i></p>
        <h2><a name="objects_misc_904195448_1091626"></a><a name="objects_misc_904195448_86757"></a>Arguments</h2>
        <h3 class="Argument">Status</h3>
        <p>The Status argument will be set to one of the integer values from the following table:</p>
        <table style="width: 471px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Table_No_Title.css');" class="TableStyle_Table_No_Title" cellspacing="0">
            <col width="74px" />
            <col width="163px" />
            <col width="234px" />
            <thead>
                <tr>
                    <td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Value</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Description</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColEnd">&#160;</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_0_0_ColSep">
                        <p class="CellCentered">2</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_ColSep">
                        <p class="CellBody">Completed command</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_ColEnd">
                        <p class="CellBody">Null string</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColSep">
                        <p class="CellCentered">3</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Error halted execution</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Descriptive error string</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColSep">
                        <p class="CellCentered">4</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">Aborted execution</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">Abort message</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Because the OnCallback method is only called when a command ends, values of Status=0 (Idle) or Status=1 (Executing) will never be returned. (See <a class="MCXref" href="IDL_IDLBridge__Status.html#objects_misc_904195448_1077870">IDL_IDLBridge::Status</a> for a list of all possible status values.)</p>
        <h3 class="Argument">Error</h3>
        <p>The <i>Error</i> argument will be set to a string corresponding to any error that may have occurred while executing the command in the slave process. As shown in the table above, if <i>Status</i> contains an error status (3), the <i>Error</i> argument returns a descriptive error string. If <i>Status</i> indicates an aborted status (4), <i>Error</i> returns an abort message. Otherwise, the <i>Error</i> argument will be set to a null string. </p>
        <h2><a name="objects_misc_904195448_1091661"></a><a name="objects_misc_904195448_48458"></a>Keywords</h2>
        <p>None. </p>
        <h2><a name="objects_misc_904195448_1091664"></a><a name="objects_misc_904195448_91985"></a>Examples</h2>
        <p>Although this method does not use the OnCallback method directly, setting the IDL_IDLBridge <a class="MCXref" href="IDL_IDLBridge_Properties.html#objects_misc_904195448_1087185">CALLBACK</a> property causes this method to automatically initiate your callback procedure. The following example shows how to define a simple callback procedure. </p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>1. </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="1. " valign="top">Create a program file that contains the following code. This is the callback procedure:</td>
            </tr>
        </table>
        <p class="Code_Indented">PRO idl_idlbridge_example_callback, status, error, $</p>
        <p class="Code_Indented">&#160;&#160;&#160;oBridge, userdata</p>
        <p class="Code_Indented">&#160;</p>
        <p class="Code_Indented">&#160;&#160;&#160;; Get the result of the FFT command from the child </p>
        <p class="Code_Indented">&#160;&#160;&#160;; process and print min and max values. </p>
        <p class="Code_Indented">&#160;&#160;&#160;result = oBridge-&gt;GetVar('result')</p>
        <p class="Code_Indented">&#160;&#160;&#160;PRINT, 'FFT finished'</p>
        <p class="Code_Indented">&#160;&#160;&#160;PRINT, MIN(result), MAX(result)</p>
        <p class="Code_Indented">&#160;&#160;&#160;OBJ_DESTROY, oBridge</p>
        <p class="Code_Indented">END</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>2. </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="2. " valign="top">Enter all of the following lines at the command prompt. When the FFT command is complete, the specified callback procedure will be automatically called. </td>
            </tr>
        </table>
        <p class="Code_Indented">oBridge = Obj_New('IDL_IDLBridge', $</p>
        <p class="Code_Indented">    CALLBACK='idl_idlbridge_example_callback')</p>
        <p class="Code_Indented">; Compute a very long FFT.</p>
        <p class="Code_Indented">oBridge-&gt;Execute, 'result = FFT(Randomu(1,1729,1729))', $</p>
        <p class="Code_Indented">&#160;&#160;&#160;/NOWAIT</p>
        <p class="Code_Indented">; Our program keeps going while the FFT is being computed.</p>
        <p class="Code_Indented">Print, 'IDL command line is still active.'</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Also see the IDL_IDLBridge <a class="MCXref" href="IDL_IDLBridge.html#objects_misc_904195448_1076887">Examples</a>, which provide additional callback procedure samples. </p>
        <h2><a name="objects_misc_904195448_1091694"></a><a name="objects_misc_904195448_96831"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">6.3</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>