<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="IDL Programming|Program Control" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>Bitwise Operators</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Table_Format.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Creating IDL Programs/Components of the IDL Language/Bitwise_Operators.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../IDL Programming.html">IDL Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Program Control.html">Program Control</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Bitwise Operators</span>
        </div>
        <h1><a name="expressions_2976722315_1032844"></a><a name="expressions_2976722315_66838"></a>Bitwise Operators<a name="kanchor3575"></a></h1>
        <p>There are four bitwise operators in <span class="Reference Materialproduct_name">IDL</span>: <a class="MCXref" href="#expressions_2976722315_1057374" target="" title="" alt="">AND</a>, <a class="MCXref" href="#expressions_2976722315_1057399" target="" title="" alt="">NOT</a>, <a class="MCXref" href="#expressions_2976722315_1057429" target="" title="" alt="">OR</a>, and <a class="MCXref" href="#expressions_2976722315_1057449" target="" title="" alt="">XOR</a>. For integer operands (byte, signed- and unsigned-integer, longword, and 64-bit longword data types), bitwise operators operate on each bit of the operand or operands independently.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If one or both of the operands are objects, the operator may be overloaded.</p>
        <p class="TableAnchor">&#160;</p>
        <table style="caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Table_Format.css');border-left-style: solid;border-left-width: 0px;border-right-style: solid;border-right-width: 0px;border-top-style: solid;border-top-width: 0px;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #d3d3d3;margin-left: 0;margin-right: auto;" class="TableStyle_Table_Format" cellspacing="0">
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Operator</p>
                    </td>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Description</p>
                    </td>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd">
                        <p class="CellHeading">Example</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellCentered"><a name="expressions_2976722315_1057374"></a><a name="expressions_2976722315_93321"></a>AND</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody"><a name="kanchor3576"></a>Bitwise AND</p>
                        <p class="CellBody">For integer, longword, and byte operands, a bitwise AND operation is performed. If the operands are scalars, it returns a scalar value. If either operand is an array, it returns an array containing one value for each element of the shortest array operand. </p>
                        <p class="CellBody">Before the operation, the second operand is converted to the same type as the first operand.</p>
                        <p class="CellBody">For operations on other types, the result is equal to the second operand if the first operand is not equal to zero or the null string; otherwise, the result is zero or the null string.</p>
                        <p class="CellNote" MadCap:autonum="Note - "><span class="autonumber"><span class="Helvetica Bold">Note - </span></span>The bitwise AND operator is not valid for heap variable operands</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">The statement</p>
                        <p class="CellCode">5&#160;AND&#160;6&#160;=&#160;4</p>
                        <p class="CellBody">is represented in binary as follows:</p>
                        <p class="CellCode">0101 AND 0110 = 0100<br /></p>
                        <p class="CellCode">PRINT, (5 GT 2) AND (4 GT 2)</p>
                        <p class="CellBody">IDL Prints: <span class="Courier">1</span></p>
                        <p class="CellCode">PRINT, (5 GT 2) AND (4 GT 5)</p>
                        <p class="CellBody">IDL Prints: <span class="Courier">0</span></p>
                        <p class="CellCode">PRINT, 5 AND 7</p>
                        <p class="CellBody">IDL Prints: <span class="Courier">5</span></p>
                        <p class="CellCode">PRINT, 5 AND 2</p>
                        <p class="CellBody">IDL Prints: <span class="Courier">0</span></p>
                        <p class="CellCode">PRINT, 4 AND 2</p>
                        <p class="CellBody">IDL Prints: <span class="Courier">0</span></p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellCentered"><a name="expressions_2976722315_1057399"></a><a name="expressions_2976722315_98075"></a>NOT</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody"><a name="kanchor3577"></a>Bitwise NOT</p>
                        <p class="CellBody">Returns the bitwise inverse of its scalar or array operand (returns scalar if operand is a scalar, or returns an array containing one value for each element of the operand array). </p>
                        <p class="CellBody">For integer, longword, and byte operands, NOT returns the complement of each bit of the operand. For floating-point operands, the result is 1.0 if the operand is zero; otherwise, the result is zero.</p>
                        <p class="CellBody">For pointer or object references, NOT returns 0 for null references and 1 for non-null references. It is the same as the logical not operator (~) for these types. 
                        </p>
                        <p class="CellWarning">Use caution when using the return value from the bitwise NOT operator as an operand for the logical operators <span class="Courier">&amp;&amp;</span> and <span class="Courier">||</span>. See <a class="MCXref" href="#expressions_2976722315_1057479" target="" title="" alt="">Using the NOT Operator</a> for additional discussion.</p>
                        <p class="CellNote" MadCap:autonum="Note - "><span class="autonumber"><span class="Helvetica Bold">Note - </span></span>Not valid for string or complex operands.</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">The statement</p>
                        <p class="CellCode">NOT 4 = -5</p>
                        <p class="CellBody">is represented in binary as follows:</p>
                        <p class="CellCode">NOT 0100 = 1011<br /></p>
                        <p class="CellCode">PRINT, NOT 1</p>
                        <p class="CellBody">IDL Prints: </p>
                        <p class="CellCode" style="font-family: Courier;font-size: 10pt;"><span class="Courier">-2</span>
                            <br />
                        </p>
                        <p class="CellNote" MadCap:autonum="Note - "><span class="autonumber"><span class="Helvetica Bold">Note - </span></span>Modern computers use the “2s complement” representation for negative signed integers. This means that to arrive at the decimal representation of a negative binary number (a string of binary digits with a one as the most significant bit), you must take the complement of each bit, add one, convert to decimal, and prepend a negative sign. For example, NOT 0 equals -1, NOT 1 equals -2, etc.</p>
                        <p class="CellBody" style="margin-bottom: 3pt;font-family: Courier;font-size: 10pt;">&#160;</p>
                        <p class="CellCode">IF (NOT (5 GT 6)) THEN $</p>
                        <p class="CellCode">&#160;&#160;&#160;PRINT, 'True'<br /></p>
                        <p class="CellBody">IDL Prints: </p>
                        <p class="CellBody" style="margin-bottom: 3pt;font-family: Courier;font-size: 10pt;"><span class="Courier">True</span>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellCentered"><a name="expressions_2976722315_1057429"></a><a name="expressions_2976722315_75649"></a>OR</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody"><a name="kanchor3578"></a>Bitwise OR</p>
                        <p class="CellBody">Performs the logical “inclusive or” operation on two scalar or array operands (returning a scalar value for scalar operands, or returning an array containing one value for each element of the shortest array operand. </p>
                        <p class="CellBody">Before the operation, the second operand is converted to the same type as the first operand.</p>
                        <p class="CellBody">For integer or byte operands, a bitwise inclusive OR is performed. For floating- point operands, returns the first operand if it is non- zero, or the 2nd operand otherwise.</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">For integer operands, OR performs a bitwise inclusive “or” operation and returns the result. The statement:</p>
                        <p class="CellCode">3 OR 5 = 7</p>
                        <p class="CellBody">is represented in binary as follows: </p>
                        <p class="CellCode">0011 OR 0101 = 0111</p>
                        <p class="CellCode">&#160;</p>
                        <p class="CellCode">IF ((5 GT 3) OR $</p>
                        <p class="CellCode">   (4 GT 5)) THEN $</p>
                        <p class="CellCode">   PRINT, 'True'</p>
                        <p class="CellBody">IDL Prints: </p>
                        <p class="CellCode">True</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep">
                        <p class="CellCentered"><a name="expressions_2976722315_1057449"></a><a name="expressions_2976722315_50648"></a>XOR</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody"><a name="kanchor3579"></a>Bitwise exclusive XOR</p>
                        <p class="CellBody">XOR is only valid for byte, integer, and longword operands.</p>
                        <p class="CellBody">Performs the logical “exclusive or” operation on two scalar or array operands (returning a scalar value for scalar operands, or returning an array containing one value for each element of the shortest array operand. </p>
                        <p class="CellBody">A bit in the result is set to 1 if the corresponding bits in the operands are different; if they are equal, it is set to zero.</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">For integer operands, XOR sets a bit in the result to 1 if the corresponding bits in the operands are different or to 0 if they are equal. The statement:</p>
                        <p class="CellCode">3&#160;XOR&#160;5&#160;=&#160;6</p>
                        <p class="CellBody">is represented in binary as follows:</p>
                        <p class="CellCode">0011 XOR 0101 = 0110</p>
                        <p class="CellBody">&#160;</p>
                        <p class="CellCode">IF ((5 GT 3) XOR (4  GT 5)) THEN $</p>
                        <p class="CellCode">&#160;&#160;&#160;PRINT, 'Different' $</p>
                        <p class="CellCode">&#160;&#160;&#160;ELSE PRINT, 'Same'</p>
                        <p class="Code">&#160;</p>
                        <p class="CellBody">IDL Prints:</p>
                        <p class="CellCode">Different</p>
                    </td>
                </tr>
            </tbody>
            <caption valign="bottom" style="padding-bottom: 12pt;">
                <p class="TableTitle">Logical Operators</p>
            </caption>
        </table>
        <h2><a name="expressions_2976722315_1057479"></a><a name="expressions_2976722315_83947"></a>Using the NOT Operator</h2>
        <p>Due to the bitwise nature of the NOT operator, logical negation operations should always use <span class="Courier">~</span> in preference to NOT, reserving NOT exclusively for bitwise computations. Consider a statement such as:</p>
        <p class="Code">IF ((NOT EOF(lun)) &amp;&amp; device_ready) THEN <i>statement</i></p>
        <p>which wants to execute <i>statement</i> if the file specified by the variable <span class="Courier">lun</span> has data remaining, and the variable <span class="Courier">device_ready</span> is non-zero. When EOF returns the value 1, the expression <span class="Courier">NOT EOF(lun)</span> yields &#8209;2, due to the bitwise nature of the NOT operator. The <span class="Courier">&amp;&amp;</span> operator interprets the value &#8209;2 as true, and will therefore attempt to execute <i>statement</i> incorrectly in many cases. The proper way to write the above statement is:</p>
        <p class="Code">IF ((~ EOF(lun)) &amp;&amp; device_ready) THEN <i>statement</i></p>
        <h2>Additional Bitwise Operator Examples</h2>
        <p>Some examples of bitwise expressions are as follows:</p>
        <p class="Code">; Displays the “negative” of an image contained in the array IMG.</p>
        <p class="Code">TV, NOT IMG</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Adds the hexadecimal constant FF (255 in decimal) to the array</p>
        <p class="Code">; ARR. This masks the lower 8-bits and zeros the upper bits.</p>
        <p class="Code">ARR AND 'FF'X</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>