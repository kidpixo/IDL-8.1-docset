<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="IDL Programming|Concepts|Arrays" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>Array Subscript Ranges</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Table_Format.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Creating IDL Programs/Components of the IDL Language/Array_Subscript_Ranges.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../IDL Programming.html">IDL Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../../ProgrammingConcepts.html">Concepts</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Arrays.html">Arrays</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Array Subscript Ranges</span>
        </div>
        <h1><a name="arrays_3727706888_762145"></a><span class="_Override"><a name="kanchor3360"></a><a name="kanchor3361"></a><a name="arrays_3727706888_67346"></a>Array Subscript<a name="kanchor3362"></a> Ranges</span>
        </h1>
        <p><span class="_Override">Subscript ranges are used to select a <a name="kanchor3363"></a>subarray from an array by giving the starting and ending subscripts of the subarray in each dimension. Subscript ranges can be combined with scalar and array subscripts and with other subscript ranges. Any rectangular portion of an array can be selected with subscript ranges.</span>
        </p>
        <h2><a name="arrays_3727706888_762195"></a><a name="arrays_3727706888_62541"></a><span class="_Override">Types of Subscript Ranges</span>
        </h2>
        <p><span class="_Override">There are six types of subscript ranges: </span>
        </p>
        <table style="caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Table_Format.css');border-left-style: solid;border-left-width: 0px;border-right-style: solid;border-right-width: 0px;border-top-style: solid;border-top-width: 0px;border-bottom-style: solid;border-bottom-width: 2px;margin-left: auto;margin-right: auto;" class="TableStyle_Table_Format" cellspacing="0">
            <col width="120px" />
            <col width="592px" />
            <thead>
                <tr>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Subscript Format</p>
                    </td>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd">
                        <p class="CellHeading">Description</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody"><span class="Courier">[*]</span>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">All elements of a dimension. </p>
                        <p class="CellBody">This form is used with multidimensional arrays to select all elements along the dimension. For example, if <span class="Courier">arr</span> is a 10-column by 12-row array, <span class="Courier">arr[*, 11]</span> is the last row of <span class="Courier">arr</span>, composed of elements <span class="Courier">[arr[0,11], arr[1,11], ..., arr[9,11]]</span>, and is a 10-element row vector. Similarly, <span class="Courier">arr[0, *]</span> is the first column of <span class="Courier">arr</span>, <span class="Courier">[arr[0,0], arr[0,1],..., arr[0,11]]</span>, and its dimensions are 1 column by 12 rows.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody"><span class="Courier">[s</span><sub class="Courier">0</sub><span class="Courier">:s</span><sub class="Courier">1</sub><span class="Courier">]</span>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">Subscript range from <span class="Courier">s</span><sub class="Courier">0</sub> to <span class="Courier">s</span><sub class="Courier">1</sub>.</p>
                        <p class="CellBody">This denotes all elements whose subscripts range from the expression <span class="Courier">s</span><sub class="Courier">0</sub> through <span class="Courier">s</span><sub class="Courier">1</sub>(<span class="Courier">s</span><sub class="Courier">0</sub> must not be greater than <span class="Courier">s</span><sub class="Courier">1</sub>). For example, if the variable <span class="Courier">vec</span> is a 10-element vector, <span class="Courier">vec[4:8]</span> is a five-element vector composed of <span class="Courier">vec[4]</span> through <span class="Courier">vec[8]</span>. Negative indices may be used, where <span class="Courier">-1</span> indicates the last element. For example, <span class="Courier">vec[-6:-2]</span> returns the same five elements as <span class="Courier">vec[4:8]</span>.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody"><span class="Courier">[s</span><sub class="Courier">0</sub><span class="Courier">:*]</span>
                        </p>
                        <p class="CellBody"><i> or</i>
                        </p>
                        <p class="CellBody"><span class="Courier">[s</span><sub class="Courier">0</sub><span class="Courier">:-1]</span>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">A range from the given element to the last element of dimension.</p>
                        <p class="CellBody">This denotes all elements from a given element to the last element of the dimension. If the variable <span class="Courier">vec</span> is a 50-element vector, <span class="Courier">vec[10:*]</span> is a 40-element vector made from <span class="Courier">vec[10]</span> through <span class="Courier">vec[49]</span>.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody"><span class="Courier">[s</span><sub class="Courier">0</sub><span class="Courier">:s</span><sub class="Courier">1</sub><span class="Courier">:n]</span>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">Every <span class="Courier">n</span>-th element in a range of subscripts from <span class="Courier">s</span><sub class="Courier">0</sub> to <span class="Courier">s</span><sub class="Courier">1</sub>. </p>
                        <p class="CellBody">The expression <span class="Courier">n</span> is referred to as the <a name="kanchor3364"></a>subscript <i>stride</i>. The stride value may be positive or negative (but must not be zero). If the stride is positive then <span class="Courier">s</span><sub class="Courier">0</sub> must be less than or equal to <span class="Courier">s</span><sub class="Courier">1</sub>. If the stride is negative then <span class="Courier">s</span><sub class="Courier">0</sub> must be greater than or equal to <span class="Courier">s</span><sub class="Courier">1</sub>. If the stride is 1, then the result is identical in meaning to [<span class="Courier">s</span><sub class="Courier">0</sub><span class="Courier">:s</span><sub class="Courier">1</sub>], as described above. For example, if the variable <span class="Courier">vec</span> is a 50-element vector, <span class="Courier">vec[5:13:2]</span> is a five-element vector composed of <span class="Courier">vec[5]</span>, <span class="Courier">vec[7]</span>, <span class="Courier">vec[9]</span>, <span class="Courier">vec[11]</span>, and <span class="Courier">vec[13]</span>. In another example, <span class="Courier">vec[-1:0:-3]</span> would return every third element of <span class="Courier">vec</span>, in reverse order.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody"><span class="Courier">[s</span><sub class="Courier">0</sub><span class="Courier">:*:n]</span>
                        </p>
                        <p class="CellBody"><i> or</i>
                        </p>
                        <p class="CellBody"><span class="Courier">[s</span><sub class="Courier">0</sub><span class="Courier">:-1:n]</span>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Every <span class="Courier">n</span>-th element from element <span class="Courier">s</span><sub class="Courier">0</sub> to the end of the dimension.</p>
                        <p class="CellBody">The expression <span class="Courier">n</span> is referred to as the subscript <i>stride</i>. If the variable <span class="Courier">vec</span> is a 50-element vector, <span class="Courier">vec[10:*:4]</span> is a 10-element vector made from every fourth element between <span class="Courier">vec[10]</span> through <span class="Courier">vec[46]</span>.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody"><span class="Courier">[n]</span>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">A simple subscript, either positive or negative. </p>
                        <p class="CellBody">Positive subscripts are indexed from the beginning of the array, while negative subscripts are indexed from the end (where <span class="Courier">-1</span> is the last element). When used with multidimensional arrays, simple subscripts specify only elements with subscripts equal to the given subscript in that dimension.</p>
                    </td>
                </tr>
            </tbody>
            <caption valign="bottom" style="padding-bottom: 12pt;">
                <p class="TableTitle">Subscript Range Forms</p>
            </caption>
        </table>
        <p><span class="_Override">Multidimensional subarrays can be specified using any combination of the above forms. For example, if </span><span class="Courier">arr</span><span class="_Override"> is a 10x10 array, </span><span class="Courier">arr[*,0:4]</span><span class="_Override"> returns a 10 x 5 array that is made from all columns of rows 0 to 4 of </span><span class="Courier">arr</span><span class="_Override">. </span>
        </p>
        <h2><a name="arrays_3727706888_762198"></a><a name="arrays_3727706888_28633"></a><span class="_Override">Dimensionality of Subarrays</span>
        </h2>
        <p><span class="_Override">The <a name="kanchor3365"></a>dimensions of an extracted subarray are determined by the size in each dimension of the subscript range expression. In general, the number of dimensions is equal to the number of subscripts and subscript ranges. The size of the </span><i>n</i><span class="_Override">-th dimension is equal to one if a simple subscript was used to specify that dimension in the subscript; otherwise, it is equal to the number of elements selected by the corresponding range expression.</span>
        </p>
        <p><span class="_Override">Degenerate dimensions (trailing dimensions with a size of one) are removed. If </span><span class="Courier">arr</span><span class="_Override"> is a 10-column by 12-row array, the expression </span><span class="Courier">arr[*,11]</span><span class="_Override"> results in a row vector with a single dimension. (The result of the expression is a 10-column by 1-row array; the last dimension is degenerate and is removed.) On the other hand, the expression </span><span class="Courier">arr[0, *]</span><span class="_Override"> became a column vector with dimensions of [1, 12], showing that the structure of columns is preserved because the dimension with a size of one does not appear at the end.</span>
        </p>
        <p><span class="_Override">To see this, enter the following statements in IDL:</span>
        </p>
        <p class="Code"><span class="_Override">arr = INDGEN(10,12)</span>
        </p>
        <p class="Code"><span class="_Override">HELP, arr</span>
        </p>
        <p class="Code"><span class="_Override">HELP, arr[*,11]</span>
        </p>
        <p class="Code"><span class="_Override">HELP, arr[0,*]</span>
        </p>
        <p><span class="_Override">In the following examples, </span><span class="Courier">vec</span><span class="_Override"> is a 50-element floating-point vector, and </span><span class="Courier">arr</span><span class="_Override"> is a 10-column by 12-row integer array. Some typical subscript range expressions are as follows:</span>
        </p>
        <p class="Code"><span class="_Override">vec = BINDGEN(50)</span>
        </p>
        <p class="Code"><span class="_Override">arr = BINDGEN(10,12)</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Elements 5 through 10 of vec, a six-element vector.</span>
        </p>
        <p class="Code"><span class="_Override">print, vec[5:10]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; A three-element vector.</span>
        </p>
        <p class="Code">I = 25</p>
        <p class="Code"><span class="_Override">print, vec[I - 1:I + 1]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; The same vector.</span>
        </p>
        <p class="Code"><span class="_Override">print, [vec[I - 1], vec[I], vec[I + 1]]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Elements from vec[4] to the end, a 46-element (50-4) vector.</span>
        </p>
        <p class="Code"><span class="_Override">print, vec[4:*]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Values of the elements with even subscripts in vec.</span>
        </p>
        <p class="Code"><span class="_Override">print, vec[0:*:2]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; The same as above, but in reverse order.</span>
        </p>
        <p class="Code"><span class="_Override">print, vec[-2:0:-2]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Values of the elements with odd subscripts in vec:</span>
        </p>
        <p class="Code"><span class="_Override">print, vec[1:*:2]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; The same as above, but in reverse order.</span>
        </p>
        <p class="Code"><span class="_Override">print, vec[-1:0:-2]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; The fourth column of arr, a 1 column by 12 row vector.</span>
        </p>
        <p class="Code"><span class="_Override">print, arr[3, *]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; The first row of arr, a 10-element row vector. Note, the last </span>
        </p>
        <p class="Code"><span class="_Override">; dimension was removed because it was degenerate.</span>
        </p>
        <p class="Code"><span class="_Override">print, arr[*, 0]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; The nine-point neighborhood surrounding arr[X,Y], a 3 by 3 array.</span>
        </p>
        <p class="Code">X = 3</p>
        <p class="Code">Y = 4</p>
        <p class="Code"><span class="_Override">print, arr[X - 1:X + 1, Y - 1:Y + 1]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Three columns of arr, a 3 by 12 subarray:</span>
        </p>
        <p class="Code"><span class="_Override">print, arr[3:5,*]</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; The same three columns of arr, with the columns reversed:</span>
        </p>
        <p class="Code"><span class="_Override">print, arr[5:3:-1,*]</span>
        </p>
        <p class="Code">&#160;</p>
        <p><span class="_Override">To <a name="kanchor3366"></a>insert the contents of an array called </span><span class="Courier">A</span><span class="_Override"> into array </span><span class="Courier">B</span><span class="_Override">, starting at point </span><span class="Courier">B</span><span class="_Override">[13, 24], use the following statement:</span>
        </p>
        <p class="Code"><span class="_Override">B[13, 24] = A</span>
        </p>
        <p><span class="_Override">If </span><span class="Courier">A</span><span class="_Override"> is a 5-column by 6-row array, elements </span><span class="Courier">B</span><span class="_Override">[13:17, 24:29] are replaced by the contents of array </span><span class="Courier">A</span><span class="_Override">.</span>
        </p>
        <p><span class="_Override">In the next example, a<a name="kanchor3367"></a> subarray is moved from one position to another:</span>
        </p>
        <p class="Code"><span class="_Override">B[100, 200] = B[200:300, 300:400]</span>
        </p>
        <p><span class="_Override">A subarray of </span><span class="Courier">B</span><span class="_Override">, specifically the columns 200 to 300 and rows 300 to 400, is moved to columns 100 to 200 and rows 200 to 300, respectively.</span>
        </p>
        <p><span class="_Override">Assuming the variable </span><span class="Courier">B</span><span class="_Override"> is a 512 </span>x<span class="_Override"> 512-byte array, some examples are as follows:</span></p>
        <p class="Code"><span class="_Override">; Store 1 in every element of the i-th row.</span>
        </p>
        <p class="Code"><span class="_Override">array[*, I] = 1</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Store 1 in every element of the j-th column.</span>
        </p>
        <p class="Code"><span class="_Override">array[J, *] = 1</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Zero all the rows of columns 200 through 220 of array.</span>
        </p>
        <p class="Code"><span class="_Override">array[200:220, *] = 0</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Zero the last 5 rows of columns 200 through 220 of array.</span>
        </p>
        <p class="Code"><span class="_Override">array[200:220, -5:-1] = 0</span>
        </p>
        <p class="Code">&#160;</p>
        <p class="Code"><span class="_Override">; Store the value 100 in all the elements of array.</span>
        </p>
        <p class="Code"><span class="_Override">array[*] = 100</span>
        </p>
        <h2><a name="arrays_3727706888_762264"></a><a name="arrays_3727706888_97808"></a><span class="_Override">Avoid Using Range Subscripts for Assignment</span>
        </h2>
        <p><span class="_Override">It is possible to use range subscripts in an assignment statement, however, when possible, you should avoid using range subscripts in favor of using scalar or array subscripts. This type of assignment statement takes the following form:</span>
        </p>
        <p class="Code"><i>Variable[Subscript_Range]</i><span class="_Override"> = </span><i>Expression</i>
        </p>
        <p>A subscript range specifies a beginning and ending subscripts, which are separated by the colon character. An ending subscript equal to the size of the dimension minus one can be written as *. For example, <span class="Courier">arr[I:J]</span> denotes those points in the vector <span class="Courier">arr</span> with subscripts between <span class="Courier">I</span> and <span class="Courier">J</span> inclusive. <span class="Courier">I</span> must be less than or equal to <span class="Courier">J</span> and greater than or equal to zero. See above for more details on subscript ranges.
        </p>
        <p>When possible, you should avoid using range subscripts in favor of using scalar or array subscripts. In the following example, the array elements of <span class="Courier">X</span> are inserted into array <span class="Courier">A</span>. The slow way uses subscript ranges, specifying the insertion of <span class="Courier">X</span> array elements into the 5th through 7th elements of <span class="Courier">A</span>. The fast way uses a scalar subscript specifying the first element (the 5th) to be replaced with the elements of <span class="Courier">A</span>.
        </p>
        <p class="Code">A = INTARR(10)</p>
        <p class="Code">X = [1,1,1]</p>
        <p class="Code">PRINT, 'A = ', A</p>
        <p class="Code">; Slow way:</p>
        <p class="Code">t = SYSTIME(1) &amp; FOR i=0L,100000 DO A[4:6] = X &amp;</p>
        <p class="Code">&#160;&#160;&#160;PRINT,'Slow way: ', SYSTIME(1)-t</p>
        <p class="Code">PRINT, 'A = ', A</p>
        <p class="Code">; Correct way is 4 times faster:</p>
        <p class="Code">t = SYSTIME(1) &amp; FOR i=0L,100000 DO A[4] = X &amp; </p>
        <p class="Code">&#160;&#160;&#160;PRINT, 'Fast way: ', SYSTIME(1)-t</p>
        <p class="Code">PRINT, 'A = ', A</p>
        <p><span class="_Override">IDL prints:</span>
        </p>
        <p class="Code">A =&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0</p>
        <p class="Code">Slow way:       0.47000003</p>
        <p class="Code">A =&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;1&#160;&#160;&#160;1&#160;&#160;&#160;1&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0</p>
        <p class="Code">Fast way:       0.12100005</p>
        <p class="Code">A =&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;1&#160;&#160;&#160;1&#160;&#160;&#160;1&#160;&#160;&#160;0&#160;&#160;&#160;0&#160;&#160;&#160;0</p>
        <p><span class="_Override">The statement </span><span class="Courier">A[4] = X</span><span class="_Override">, where </span><span class="Courier">X</span><span class="_Override"> is a three-element array, causes IDL to start at index 4 of array </span><span class="Courier">A</span><span class="_Override">, and replace the next three elements in </span><span class="Courier">A</span><span class="_Override"> with the elements in </span><span class="Courier">X</span><span class="_Override">. Because of the way it is implemented in IDL, </span><span class="Courier">A[4] = X </span><span class="_Override">is much more efficient than </span><span class="Courier">A[4:6] = X</span><span class="_Override">. </span>
        </p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>