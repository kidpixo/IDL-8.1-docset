<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="IDL Programming|Concepts|IDL Data Types" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>Data Type and Structure of Expressions</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/List_Format.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Table_Format.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Creating IDL Programs/Components of the IDL Language/Data_Type_and_Structure.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../IDL Programming.html">IDL Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../../ProgrammingConcepts.html">Concepts</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="IDL_Data_Types.html">IDL Data Types</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Data Type and Structure of Expressions</span>
        </div>
        <h1><a name="constants_818058343_699867"></a><a name="constants_818058343_29281"></a>Data Type and Structure of Expressions</h1>
        <p>Every entity in <span class="Reference MaterialProd_name">IDL</span> has an associated <i>data type</i> and <i>structure</i>. The <i>structure of an expression</i> determines whether the expression can represent a single value or multiple values. IDL expressions can be either <i><a name="kanchor3313"></a>scalars</i> (with exactly one value) or <i>arrays</i> (with one or more values). The data type and structure of an expression depend on the data type and structure of its operands. </p>
        <p class="Tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;"><span class="autonumber"><span><b>Tip: </b></span></span>You can determine the data type of an expression by returning the type code of the expression.</p>
        <h2><a name="constants_818058343_699874"></a><a name="constants_818058343_49574"></a>Hierarchy of IDL Data Types</h2>
        <p>Unlike many other languages, the data type and structure of most expressions in <span class="Reference MaterialProd_name">IDL</span> cannot be determined until the expression is evaluated. Because of this, care must be taken when writing programs. For example, a variable can be a scalar byte variable at one point in a program while at a later point the same variable can hold a complex array. See <a class="MCXref" href="#constants_818058343_699909" target="" title="" alt="">Expression Type</a> for information on how the hierarchy of data types affect the outcome of mathematical operations. See <a class="MCXref" href="#constants_818058343_699945" target="" title="" alt="">Expression Structure</a> for information on how the results of scalar and array operations are evaluated. The twelve atomic data types in decreasing order of precedence are as follows:</p>
        <table style="width: 308px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/List_Format.css');" class="TableStyle_List_Format" cellspacing="0">
            <col width="308px" />
            <tbody>
                <tr>
                    <td class="TableStyle_List_Format_Body_0_0_ColEnd">
                        <p class="CellBody">Double-precision complex floating-point</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Complex floating-point</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_1_0_ColEnd">
                        <p class="CellBody">Double-precision floating-point</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">Floating-point</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_0_0_ColEnd">
                        <p class="CellBody">Signed and unsigned 64-bit integer</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Signed and unsigned longword (32-bit) integer</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_1_0_ColEnd">
                        <p class="CellBody">Signed and unsigned (16-bit) integer</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">Byte</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_List_Format_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">String</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="constants_818058343_699909"></a><a name="constants_818058343_32859"></a>Expression Type</h2>
        <p><span class="Reference MaterialProd_name">IDL</span> attempts to evaluate expressions containing operands of different data types in the most accurate manner possible. The result of an operation becomes the same data type as the operand with the greatest precedence or potential precision. For example, when adding a byte variable to a floating-point variable, the byte variable is first converted to floating-point, then added to the floating-point variable, yielding a floating-point result. When adding a double-precision variable to a complex variable, the result is double-precision complex, because the double-precision complex type has a higher position in the hierarchy of data types. See <a class="MCXref" href="#constants_818058343_699874" target="" title="" alt="">Hierarchy of IDL Data Types</a> for the order of precedence.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Signed and unsigned integers of a given width have the same precedence. In an expression involving a combination of such types, the result is given the type of the <i>leftmost</i> operand. </p>
        <p>When writing expressions with mixed data types, care must be taken to obtain the desired results. For example, assume the variable A is an integer variable with a value of 5. The following expressions yield the indicated results:</p>
        <p class="Code">; Integer division is performed. The remainder is discarded.</p>
        <p class="Code">A / 2 = 2</p>
        <p class="Code">&#160;</p>
        <p class="Code">; The value of A is first converted to floating.</p>
        <p class="Code">A / 2. = 2.5</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Integer division is done first because of operator precedence. </p>
        <p class="Code">; Result is floating point.</p>
        <p class="Code">A / 2 + 1. = 3.</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Division is done in floating, then the 1 is converted to floating </p>
        <p class="Code">; and added.</p>
        <p class="Code">A / 2. + 1 = 3.5</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Signed and unsigned integer operands have the same precedence, so </p>
        <p class="Code">; the left-most operand determines the type of the result as signed </p>
        <p class="Code">; integer.</p>
        <p class="Code">A + 5U = 10</p>
        <p class="Code">&#160;</p>
        <p class="Code">; As above, the left-most operand determines the result type </p>
        <p class="Code">; between types with the same precedence</p>
        <p class="Code">5U + A = 10U</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>When other data types are converted to complex type, the real part of the result is obtained from the original value and the imaginary part is set to zero.</p>
        <p>When a string type appears as an operand with a numeric data type, the string is converted to the type of the numeric term. For example: '123' + 123.0 is 246.0, while '123.333' + 33 gives the result 156 because 123.333 is first converted to integer type. In the same manner, 'ABC' + 123 also causes a conversion error.</p>
        <h2><a name="constants_818058343_699945"></a><a name="constants_818058343_33167"></a>Expression Structure</h2>
        <p><span class="Reference MaterialProd_name">IDL</span> expressions <span class="_Override" style="font-weight: bold;font-size: 14pt;line-height: 16pt;"><a name="kanchor3314"></a></span>can contain operands that are either scalars or arrays, just as they can contain operands with different types. Conversion of variables between the scalar and array forms is independent of data type conversion. An expression will yield an array result if any of its operands is an array, as shown in the following table:</p>
        <table style="width: 242px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Table_Format.css');" class="TableStyle_Table_Format" cellspacing="0">
            <col width="139px" />
            <col width="103px" />
            <thead>
                <tr>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Operands</p>
                    </td>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd">
                        <p class="CellHeading">Result</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Scalar : Scalar</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Scalar</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">Array : Array</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">Array</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Scalar : Array</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Array</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">Array : Scalar</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">Array</p>
                    </td>
                </tr>
            </tbody>
            <caption valign="bottom" style="padding-bottom: 12pt;">
                <p class="TableTitle">Structure of Expressions</p>
            </caption>
        </table>
        <p>See Operations on Array Expressions for more information on working with arrays as operands in an expression.</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>