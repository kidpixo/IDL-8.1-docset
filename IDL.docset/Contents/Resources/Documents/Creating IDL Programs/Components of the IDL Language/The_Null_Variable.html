<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="IDL Programming|Concepts|IDL Data Types" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>The Null Variable</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Creating IDL Programs/Components of the IDL Language/The_Null_Variable.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../IDL Programming.html">IDL Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../../ProgrammingConcepts.html">Concepts</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="IDL_Data_Types.html">IDL Data Types</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">The Null Variable</span>
        </div>
        <h1><a name="constants_818058343_695602"></a><a name="constants_818058343_49118"></a>The Null Variable</h1>
        <p>The <a name="kanchor3315"></a>system variable !NULL is a special variable of type <i>Undefined</i>. Unlike a variable that is truly undefined, the value !NULL can be assigned to other variables and used in comparisons.</p>
        <h2>Assignment Syntax</h2>
        <p>Use any of the following to assign the value !NULL to a variable:</p>
        <p class="Code">variable = !NULL</p>
        <p class="Code">variable = [&#160;]</p>
        <p class="Code">variable = {&#160;}</p>
        <p>!NULL can be assigned to an existing variable, undefining it and freeing its memory.</p>
        <p class="Code">A = 10</p>
        <p class="Code">A = !NULL</p>
        <p class="Code">PRINT, A</p>
        <p>IDL Prints:</p>
        <p class="Code">!NULL</p>
        <h2>Comparison</h2>
        <p>The !NULL variable is equivalent to:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">an undefined variable</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">a null pointer</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">a null object</td>
            </tr>
        </table>
        <p>Use the comparison operators EQ and NE to determine whether a variable has a defined value. (Null pointers and null objects have type <i>Pointer</i> and <i>Objref</i>, respectively, but have no defined values.)</p>
        <p>For example, suppose the variable <span class="Courier">U</span> has not been defined in the current IDL session. Then:</p>
        <p class="Code">PRINT, U EQ !NULL</p>
        <p>IDL Prints:</p>
        <p class="Code">1</p>
        <p>showing that <span class="Courier">U</span> has no defined value.</p>
        <p>As another example:</p>
        <p class="Code">p = PTR_NEW(5)</p>
        <p class="Code">PTR_FREE, p</p>
        <p class="Code">PRINT, p EQ !NULL</p>
        <p>IDL Prints:</p>
        <p class="Code">1</p>
        <p>showing that p now refers to a null pointer.</p>
        <p>Similarly, for objects:</p>
        <p class="Code">obj = IDL_Container()</p>
        <p class="Code">obj.Cleanup</p>
        <p class="Code">PRINT, obj EQ !NULL</p>
        <p>IDL Prints:</p>
        <p class="Code">1</p>
        <h2>Assigning Function Return Values</h2>
        <p>To discard the return value from a function, assign it to !NULL. For example, suppose you wanted to find the subscripts of both the minimum and maximum values in an array using the MAX function. In the following statement:</p>
        <p class="Code">!NULL = MAX(array, subscript_max, SUBSCRIPT_MIN=subscript_min)</p>
        <p>the MAX function returns the subscripts of both the maximum and minimum values in the <span class="Courier">subscript_max</span> and <span class="Courier">subscript_min</span> variables, discarding the return value (the actual value of the largest element).</p>
        <h2><a name="constants_818058343_705910"></a><a name="constants_818058343_38237"></a>Null Values in Arrays</h2>
        <p>Null values are <i>ignored</i> when they appear as array elements. For example:</p>
        <p class="Code">array = [3.0, !NULL, 2.5, 1.9, !NULL, 0.7]</p>
        <p class="Code">PRINT, array &amp; HELP, array</p>
        <p>IDL prints:</p>
        <p class="Code">3.00000&#160;&#160;&#160;&#160;2.50000&#160;&#160;&#160;&#160;1.90000&#160;&#160;&#160;&#160;0.700000</p>
        <p class="Code">ARRAY&#160;&#160;&#160;&#160;&#160;&#160;FLOAT&#160;&#160;&#160;&#160;&#160;= Array[4]</p>
        <p>As a result, a variable set equal to !NULL can be thought of as an empty element in an array specification. Thinking of a null variable in this way makes it easy to add variables to an array without first checking to ensure that the array is defined. For example, you might use code like the following when building an array variable from values determined at runtime:</p>
        <p class="Code">array = [&#160;]</p>
        <p class="Code">WHILE <span class="Courier-Italic">some_condition</span> DO BEGIN</p>
        <p class="Code">&#160;&#160;&#160;IF <span class="Courier-Italic">some_other_condition</span> THEN array = [array, <span class="Courier-Italic">new_element</span>]</p>
        <p class="Code">&#160;&#160;&#160;...</p>
        <p class="Code">ENDWHILE</p>
        <p>Here, the fact that we intialize the variable <span class="Courier">array</span> to the value !NULL eliminates the need to test whether <span class="Courier">array</span> is defined in each iteration of the WHILE loop. On the first iteration, <span class="Courier">array</span> is equal to !NULL, and serves as an empty element that is ignored after the first variable with a defined value is added.</p>
        <p>Similarly, if we want to construct an array by adding values in another dimension, an array containing only a null value can serve as a placeholder for an entire dimension in the array:</p>
        <p class="Code">array = [&#160;]</p>
        <p class="Code">WHILE <span class="Courier-Italic">some_condition</span> DO BEGIN</p>
        <p class="Code">&#160;&#160;&#160;IF <span class="Courier-Italic">some_other_condition</span> THEN array = [[array], [<span class="Courier-Italic">new_array</span>]]</p>
        <p class="Code">&#160;&#160;&#160;...</p>
        <p class="Code">ENDWHILE</p>
        <p>Here we end up creating a two-dimensional array, with each iteration adding a new array to the second dimension.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The value !NULL cannot be used as a “missing value” placeholder in an array. Array elements equal to !NULL are ignored entirely, as if they were not present at all.</p>
        <h2>Null Values as Structures</h2>
        <p>The CREATE_STRUCT function will treat a !NULL argument as an anonymous structure with no fields. This makes it easy to add fields and values to a stucture using CREATE_STRUCT without first checking to ensure that the structure is defined. For example, you might use code like the following when building a structure variable from the contents of an array at runtime:</p>
        <p class="Code">struct = {&#160;}</p>
        <p class="Code">FOREACH element, array, index DO BEGIN</p>
        <p class="Code">&#160;&#160;&#160;fieldname = 'Field'+STRTRIM(index,2)</p>
        <p class="Code">&#160;&#160;&#160;some_value = some_operation_on(element)</p>
        <p class="Code">&#160;&#160;&#160;struct = CREATE_STRUCT(struct, fieldname, some_value)</p>
        <p class="Code">ENDFOREACH</p>
        <p>Here, the fact that we intialize <span class="Courier">struct</span> to the value !NULL eliminates the need to test whether <span class="Courier">struct</span> is defined in each iteration of the FOREACH loop. On the first iteration, <span class="Courier">struct</span> is equal to !NULL, and serves as an anonymous structure with no fields, allowing an additional field to be added on each iteration.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The value of a structure field cannot be set to !NULL.</p>
        <h2>Null Values in Pointers</h2>
        <p>When creating an IDL pointer variable, the value !NULL may be used as a placeholder to indicate that this is a valid pointer, whose value has not yet been assigned. For example, with an invalid pointer:</p>
        <p class="Code">p = PTR_NEW()</p>
        <p class="Code">print, *p</p>
        <p>IDL Prints:</p>
        <p class="Code">% Unable to dereference NULL pointer: P.</p>
        <p class="Code">% Execution halted at: $MAIN$</p>
        <p>Now, using !NULL as the value:</p>
        <p class="Code">p = PTR_NEW(!NULL)</p>
        <p class="Code">print, *p</p>
        <p>IDL Prints:</p>
        <p class="Code">!NULL</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The ALLOCATE_HEAP keyword to PTR_NEW and PTRARR is equivalent to assigning the !NULL value to the pointers.</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>