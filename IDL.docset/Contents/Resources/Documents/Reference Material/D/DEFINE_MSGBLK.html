<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: D" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>DEFINE_MSGBLK </title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/D/DEFINE_MSGBLK.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="DBLARR.html">Routines: D</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">DEFINE_MSGBLK</span>
        </div>
        <h1 class="Routine"><a name="D_843829869_991824"></a><a name="D_843829869_59124"></a>DEFINE_MSGBLK </h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#D_843829869_991829">Syntax</a> | <a class="MCXref" href="#D_843829869_991831">Arguments</a> | <a class="MCXref" href="#D_843829869_991845">Keywords</a> | <a class="MCXref" href="#D_843829869_991850">Examples</a> | <a class="MCXref" href="#D_843829869_991864">Version History</a> | <a class="MCXref" href="#D_843829869_997288">See Also</a></MadCap:conditionalText>
        </p>
        <p>The <a name="kanchor504"></a>DEFINE_MSGBLK procedure defines and loads a new <a name="kanchor505"></a>message block into the currently running <span class="Reference MaterialProduct">IDL</span> session. Messages are issued from a message block using the MESSAGE procedure, which handles the details of <span class="Reference MaterialProduct">IDL</span> message display, including proper formatting, setting the values of the !ERROR_STATE system variable, and displaying traceback information if execution halts. See <a class="MCXref" href="../M/MESSAGE.html#M_824365677_988498">MESSAGE </a> for details.</p>
        <p>A message block is a collection of messages that are loaded into IDL as a single unit. Each block contains the messages required for a specific application. At startup, IDL contains a single internal message block named IDL_MBLK_CORE, which contains the standard messages required by the IDL system. Dynamically loadable modules (DLMs) usually define additional message blocks for their own needs when they are loaded. At the <span class="Reference MaterialProduct">IDL</span> programming level, the DEFINE_MSGBLK and DEFINE_MSGBLK_FROM_FILE procedures can be used to define and load message blocks. You can use the HELP, /MESSAGES command to see the currently defined message blocks.</p>
        <h2><a name="D_843829869_991829"></a><a name="D_843829869_991829_PageTOC_DEFINE_MSGBLK_"></a>Syntax</h2>
        <p class="Syntax">DEFINE_MSGBLK, <i>BlockName</i>, <i>ErrorNames</i>, <i>ErrorFormats</i> [,&#160;/<a class="MCXref" href="#D_843829869_991846">IGNORE_DUPLICATE</a>] [,&#160;<a class="MCXref" href="#D_843829869_991848">PREFIX</a>&#160;=&#160;<i>PrefixStr</i>]</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>IDL will force the values of the message bock name, the individual message names, and any message prefix string to upper case before installing the message block. Because IDL is generally case-insensitive, you do not need to use upper case when supplying these values to the DEFINE_MSGBLK or MESSAGE procedures. The values stored in the !ERROR_STATE system variable will, however, be upper-case strings. If you do string comparisons with values in !ERROR_STATE, you should take this case-folding into account.</p>
        <h2><a name="D_843829869_991831"></a><a name="D_843829869_991831_PageTOC_DEFINE_MSGBLK_"></a>Arguments</h2>
        <h3 class="Argument">BlockName</h3>
        <p>A string giving the name of the message block to be defined. Block names must be unique within the IDL system.  Use of the PREFIX keyword is also recommended to enforce a consistent naming convention. </p>
        <h3 class="Argument">ErrorNames</h3>
        <p>An array of strings giving the names of the messages defined by the message block.</p>
        <h3 class="Argument">ErrorFormats</h3>
        <p>An array of strings giving the formats for the messages defined by the message block. Note that the format string can include both static text (displayed every time the error is displayed) and dynamic text (specified when the error is generated by a call to the MESSAGE procedure). Each format is matched with the corresponding name in <i>ErrorNames</i>. For this reason, <i>ErrorFormats</i> should have the same number of elements as <i>ErrorNames</i>. We recommend the use of the PREFIX keyword to enforce a consistent naming scheme for your messages.</p>
        <p>Error formats are simplified <span class="Courier">printf</span>-style format strings. For more information on format strings, see <a class="MCXref" href="../../Creating IDL Programs/Components of the IDL Language/Format_Codes.html#files_2839720996_2841070">C printf-Style Quoted String Format Code</a>.</p>
        <h2><a name="D_843829869_991845"></a><a name="D_843829869_991845_PageTOC_DEFINE_MSGBLK_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="D_843829869_991846"></a><a name="D_843829869_991846_Keywords_DEFINE_MSGBLK__"></a>IGNORE_DUPLICATE</h3>
        <p>Attempts to define a given <i>BlockName</i> more than once in the same IDL session usually cause DEFINE_MSGBLK to issue an error and stop execution of the IDL program. Specify IGNORE_DUPLICATE to cause DEFINE_MSGBLK to quietly ignore attempts to redefine a message block. In this case, no error is issued and execution continues. The original message block remains installed and available for use.</p>
        <h3 class="Keyword"><a name="D_843829869_991848"></a><a name="D_843829869_991848_Keywords_DEFINE_MSGBLK__"></a>PREFIX</h3>
        <p>It is a common and recommended practice to give each message name defined in <i>ErrorNames</i> a common unique prefix that identifies it as an error from a specific message block. However, specifying this prefix in each entry of <i>ErrorNames</i> is tedious and error prone. The PREFIX keyword can be used to specify a prefix string that will be added to each element of <i>ErrorNames</i>.</p>
        <h2><a name="D_843829869_991850"></a><a name="D_843829869_991850_PageTOC_DEFINE_MSGBLK_"></a>Examples</h2>
        <p>This example defines a message block called ROADRUNNER that contains 2 messages:</p>
        <p class="Code">name = ['BADPLAN', 'RRNOTCAUGHT']</p>
        <p class="Code">fmt  = ['Bad plan detected: %s.', 'Road Runner not captured.']</p>
        <p class="Code">DEFINE_MSGBLK, PREFIX = 'ACME_M_', 'ROADRUNNER', name, fmt</p>
        <p>Once this message block is loaded, the ACME_M_BADPLAN message can be issued using the following statement:</p>
        <p class="Code">MESSAGE, NAME = 'acme_m_badplan', BLOCK = 'roadrunner', $</p>
        <p class="Code">&#160;&#160;&#160;'Exploding bridge while standing underneath'</p>
        <p>This MESSAGE statement produces the output similar to:</p>
        <p class="Code">% Bad plan detected: Exploding bridge while standing underneath.</p>
        <p class="Code">% Execution halted at:  $MAIN$ </p>
        <p>The IDL command:</p>
        <p class="Code">HELP, /STRUCTURES, !ERROR_STATE</p>
        <p>can be used to examine the effect of this message on IDL’s error state.</p>
        <h2><a name="D_843829869_991864"></a><a name="D_843829869_991864_PageTOC_DEFINE_MSGBLK_"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">5.5</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="D_843829869_997288"></a><a name="D_843829869_997288_PageTOC_DEFINE_MSGBLK_"></a>See Also</h2>
        <p><a class="MCXref" href="DEFINE_MSGBLK_FROM_FILE.html#D_843829869_991870">DEFINE_MSGBLK_FROM_FILE </a>, &#160;<a class="MCXref" href="../M/MESSAGE.html#M_824365677_988498">MESSAGE </a></p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>