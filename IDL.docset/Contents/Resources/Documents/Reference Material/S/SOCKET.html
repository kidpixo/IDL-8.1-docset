<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: S" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>SOCKET </title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/S/SOCKET.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="S_TEST.html">Routines: S</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">SOCKET</span>
        </div>
        <h1 class="Routine"><a name="S_820040301_1098126"></a><a name="S_820040301_65636"></a>SOCKET </h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#S_820040301_1098134">Syntax</a> | <a class="MCXref" href="#S_820040301_1098137">Arguments</a> | <a class="MCXref" href="#S_820040301_1098144">Keywords</a> | <a class="MCXref" href="#S_820040301_1315461">Examples</a> | <a class="MCXref" href="#S_820040301_1110354">Version History</a> | <a class="MCXref" href="#S_820040301_1315379">See Also</a></MadCap:conditionalText>
        </p>
        <p>The <a name="kanchor2406"></a>SOCKET procedure opens a client-side <a name="kanchor2407"></a>TCP/IP <a name="kanchor2408"></a>Internet <a name="kanchor2409"></a>socket as an IDL file unit. Such files can be used in the standard manner with any of IDL’s Input/Output routines.</p>
        <p class="Tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;"><span class="autonumber"><span><b>Tip: </b></span></span>Avoid using the EOF procedure as a way to check to see if a socket is empty. Instead, structure your communication across the socket so that using EOF is not necessary to know when the communication is complete.</p>
        <h2><a name="S_820040301_1098134"></a><a name="S_820040301_1098134_PageTOC_SOCKET__"></a>Syntax</h2>
        <p class="Syntax">SOCKET, <i>Unit</i>, <i>Host</i>, <i>Port</i> [,&#160;<a class="MCXref" href="#S_820040301_1098145">CONNECT_TIMEOUT</a>=<i>value</i>] [,&#160;<a class="MCXref" href="#S_820040301_1098148">ERROR</a>=<i>variable</i>] [,&#160;/<a class="MCXref" href="#S_820040301_1142975">GET_LUN</a>] [,&#160;/<a class="MCXref" href="#S_820040301_1098160">RAWIO</a>] [,&#160;<a class="MCXref" href="#S_820040301_1098166">READ_TIMEOUT</a>=<i>value</i>] [,&#160;/<a class="MCXref" href="#S_820040301_1098168">SWAP_ENDIAN</a>] [,&#160;/<a class="MCXref" href="#S_820040301_1098171">SWAP_IF_BIG_ENDIAN</a>] [,&#160;/<a class="MCXref" href="#S_820040301_1098175">SWAP_IF_LITTLE_ENDIAN</a>] [,&#160;<a class="MCXref" href="#S_820040301_1098179">WIDTH</a>=<i>value</i>] [,&#160;<a class="MCXref" href="#S_820040301_1098187">WRITE_TIMEOUT</a>=<i>value</i>]</p>
        <p class="Syntax"><span class="Bold">UNIX-Only Keywords:</span> [,&#160;/<a class="MCXref" href="#S_820040301_1133828">STDIO</a>]</p>
        <h2><a name="S_820040301_1098137"></a><a name="S_820040301_1098137_PageTOC_SOCKET__"></a>Arguments</h2>
        <h3 class="Argument">Unit</h3>
        <p>The unit number to associate with the opened socket.</p>
        <h3 class="Argument">Host</h3>
        <p>The name of the host to which the socket is connected. This can be either a standard Internet host name (<i>e.g.</i><span class="Courier">ftp.ittvis.com</span>) or a dot-separated numeric address (<i>e.g.</i><span class="Courier"> 192.5.156.21</span>).</p>
        <h3 class="Argument">Port</h3>
        <p>The port to which the socket is connected on the remote machine. If this is a well-known port (as contained in the <span class="Courier">/etc/services</span> file on a UNIX host), then you can specify its name (<i>e.g.</i> daytime); otherwise, specify a number.</p>
        <h2><a name="S_820040301_1098144"></a><a name="S_820040301_1098144_PageTOC_SOCKET__"></a>Keywords</h2>
        <h3 class="Keyword"><a name="S_820040301_1098145"></a><a name="S_820040301_1098145_Keywords_SOCKET__"></a>CONNECT_TIMEOUT</h3>
        <p>Set this keyword to the number of seconds to wait before giving up and issuing an error to shorten the connect timeout from the system-supplied default. Most experts recommend that you not specify an explicit timeout, and instead use your operating system defaults.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Although you can use CONNECT_TIMEOUT to shorten the timeout, you cannot increase it past the system-supplied default.</p>
        <h3 class="Keyword"><a name="S_820040301_1098148"></a><a name="S_820040301_1098148_Keywords_SOCKET__"></a>ERROR</h3>
        <p>A named variable in which to place the error status. If an error occurs in the attempt to open the socket, <span class="Reference Materialproduct_name">IDL</span> normally takes the error handling action defined by the ON_ERROR and/or ON_IOERROR procedures. SOCKET always returns to the caller without generating an error message when ERROR is present. A nonzero error status indicates that an error occurred. The error message can then be found in the system variable !ERROR_STATE.MSG.</p>
        <h3 class="Keyword"><a name="S_820040301_1142975"></a><a name="S_820040301_1142975_Keywords_SOCKET__"></a>GET_LUN</h3>
        <p>Set this keyword to <a name="kanchor2410"></a>use the GET_LUN procedure to set the value of <i>Unit</i> before the file is opened. Instead of using the two statements:</p>
        <p class="Code">GET_LUN, Unit</p>
        <p class="Code">OPENR, Unit, 'data.dat'</p>
        <p>you can use the single statement:</p>
        <p class="Code">OPENR, Unit, 'data.dat', /GET LUN</p>
        <h3 class="Keyword"><a name="S_820040301_1098160"></a><a name="S_820040301_1098160_Keywords_SOCKET__"></a>RAWIO</h3>
        <p>Set this keyword to disable all use of the standard operating system I/O for the file, in favor of direct calls to the operating system. This allows direct access to devices, such as tape drives, that are difficult or impossible to use effectively through the standard I/O. Using this keyword has the following implications:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">No formatted or associated (ASSOC) I/O is allowed on the file. Only READU and WRITEU are allowed.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">Normally, attempting to read more data than is available from a file causes the unfilled space to be set to zero and an error to be issued. This does not happen with files opened with RAWIO. When using RAWIO, the programmer must check the transfer count, either via the TRANSFER_COUNT keywords to READU and WRITEU, or the FSTAT function.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The EOF and POINT_LUN functions cannot be used with a file opened with RAWIO.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">Each call to READU or WRITEU maps directly to UNIX read(2) and write(2) system calls. The programmer must read the UNIX system documentation for these calls and documentation on the target device to determine if there are any special rules for I/O to that device. For example, the size of data that can be transferred to many cartridge tape drives is often forced to be a multiple of 512 bytes.</td>
            </tr>
        </table>
        <h3 class="Keyword"><a name="S_820040301_1098166"></a><a name="S_820040301_1098166_Keywords_SOCKET__"></a>READ_TIMEOUT</h3>
        <p>Set this keyword to the number of seconds to wait for data to arrive before giving up and issuing an error. By default, IDL blocks indefinitely until the data arrives. Typically, this option is unnecessary on a local network, but it is useful with networks that are slow or unreliable.</p>
        <h3 class="Keyword"><a name="S_820040301_1133828"></a><a name="S_820040301_1133828_Keywords_SOCKET__"></a>STDIO</h3>
        <p><i>This keyword is only available on UNIX platforms.</i>
        </p>
        <p>Under UNIX, forces the file to be opened via the standard C I/O library (stdio) rather than any other more native OS API that might usually be used. This is primarily of interest to those who intend to access the file from external code, and is not necessary for most uses.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Under Windows, the STDIO feature is not possible. Requesting it causes IDL to throw an error.</p>
        <h3 class="Keyword"><a name="S_820040301_1098168"></a><a name="S_820040301_1098168_Keywords_SOCKET__"></a>SWAP_ENDIAN</h3>
        <p>Set this keyword to swap <a name="kanchor2411"></a>byte ordering for multi-byte data when performing binary I/O on the specified file. This is useful when accessing files also used by another system with byte ordering different than that of the current host.</p>
        <h3 class="Keyword"><a name="S_820040301_1098171"></a><a name="S_820040301_1098171_Keywords_SOCKET__"></a>SWAP_IF_BIG_ENDIAN</h3>
        <p>Setting this keyword is equivalent to setting SWAP_ENDIAN; it only takes effect if the current system has <a name="kanchor2412"></a>big <a name="kanchor2413"></a>endian byte ordering. This keyword does not refer to the byte ordering of the input data, but to the computer hardware.</p>
        <h3 class="Keyword"><a name="S_820040301_1098175"></a><a name="S_820040301_1098175_Keywords_SOCKET__"></a>SWAP_IF_LITTLE_ENDIAN</h3>
        <p>Setting this keyword is equivalent to setting SWAP_ENDIAN; it only takes effect if the current system has <a name="kanchor2414"></a>little <a name="kanchor2415"></a>endian byte ordering. This keyword does not refer to the byte ordering of the input data, but to the computer hardware.</p>
        <h3 class="Keyword"><a name="S_820040301_1098179"></a><a name="S_820040301_1098179_Keywords_SOCKET__"></a>WIDTH</h3>
        <p>The desired output width. When using the defaults for formatted output, <span class="Reference Materialproduct_name">IDL</span> uses the following rules to determine where to break lines:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">If the output file is a terminal, the terminal width is used.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">Otherwise, a default of 80 columns is used.</td>
            </tr>
        </table>
        <p>The WIDTH keyword allows the user to override this default.</p>
        <h3 class="Keyword"><a name="S_820040301_1098187"></a><a name="S_820040301_1098187_Keywords_SOCKET__"></a>WRITE_TIMEOUT</h3>
        <p>Set this keyword to the number of seconds to wait to send data before giving up and issuing an error. By default, IDL blocks indefinitely until it is possible to send the data. Typically, this option is unnecessary on a local network, but it is useful with networks that are slow or unreliable.</p>
        <h2><a name="S_820040301_1315461"></a><a name="S_820040301_1098198_PageTOC_SOCKET__"></a>Examples</h2>
        <p>Most UNIX systems maintain a daytime server on the daytime port (port 13). These servers send a 1 line response when connected to, containing the current time of day.</p>
        <p class="Code">; To obtain the current time from the host bullwinkle:</p>
        <p class="Code">SOCKET, 1, 'bullwinkle','daytime'</p>
        <p class="Code">date=''</p>
        <p class="Code">READF, 1, date</p>
        <p class="Code">CLOSE, 1</p>
        <p class="Code">PRINT, date</p>
        <p>IDL prints:</p>
        <p class="Code">Wed Sep 15 17:20:27 1999</p>
        <h2><a name="S_820040301_1110354"></a><a name="S_820040301_1110354_PageTOC_SOCKET__"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_ColSep">
                        <p class="CellBody">5.3</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">5.6</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Added SWAP_IF_BIG_ENDIAN and SWAP_IF_LITTLE_ENDIAN keywords</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="S_820040301_1315379"></a><a name="S_820040301_1315379_PageTOC_SOCKET__"></a>See Also</h2>
        <p><a class="MCXref" href="../F/FILE_POLL_INPUT.html#F_848155245_957168">FILE_POLL_INPUT</a>
        </p>
        <p>&#160;</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>