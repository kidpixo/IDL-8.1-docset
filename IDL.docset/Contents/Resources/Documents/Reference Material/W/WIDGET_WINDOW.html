<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: W" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>WIDGET_WINDOW</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Table_No_Title.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Table_Format.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Keyword_Table.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/W/WIDGET_WINDOW.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="WAIT.html">Routines: W</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">WIDGET_WINDOW</span>
        </div>
        <h1 class="Routine">WIDGET_WINDOW</h1>
        <p>The <a name="kanchor2887"></a>WIDGET_WINDOW function creates a graphics widget.</p>
        <h2>Example
		</h2>
        <p>The following lines create a simple widget application. For a more complete example, see the end of this topic.</p>
        <p class="Code">; Create the widgets.</p>
        <p class="Code">wBase = WIDGET_BASE(/COLUMN)</p>
        <p class="Code">wDraw = WIDGET_WINDOW(wBase,  X_SCROLL_SIZE=400, Y_SCROLL_SIZE=400)</p>
        <p class="Code">WIDGET_CONTROL, wBase, /REALIZE</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Retrieve the newly-created Window object.</p>
        <p class="Code">WIDGET_CONTROL, wDraw, GET_VALUE=oWin</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Make sure this is the current window</p>
        <p class="Code">oWin.Select</p>
        <p class="Code">&#160;</p>
        <p class="Code">p = PLOT(/TEST, /CURRENT, /FILL_BACKGROUND)</p>
        <h2>Syntax</h2>
        <p class="Syntax"><i>Result</i> = WIDGET_WINDOW(<i>Parent </i>)</p>
        <h2>Return Value </h2>
        <p>The returned value of this function is the widget ID of the newly-created widget.</p>
        <h2>Arguments</h2>
        <h3 class="Argument">Parent </h3>
        <p>The widget ID of the parent widget.</p>
        <h2>Keywords</h2>
        <h3 class="Keyword">BUTTON_EVENTS</h3>
        <p>Set this keyword to make the widget generate events when the mouse buttons are pressed or released (and the mouse pointer is in the graphics widget).</p>
        <p>You can use the event structure generated when the BUTTON_EVENTS keyword is set to emulate the functionality of the CONTEXT_EVENTS keyword to WIDGET_BASE, WIDGET_LIST, and WIDGET_TEXT. To determine whether the user clicked the right mouse button, use the test:</p>
        <p class="Code">IF (event.release EQ 4)</p>
        <p>where <span class="Courier">event</span> holds the widget event structure.</p>
        <p class="Body">For more on detecting and handling context menu events, see <a href="../../Creating IDL Programs/Creating Applications in IDL/Creating_Menus.html">Creating Menus</a>.</p>
        <h3 class="Keyword">DRAG_NOTIFY</h3>
        <p>Set this keyword equal to a string containing the name of a function that will be automatically called as the end-user drags over the widget. Alternatively, set this keyword equal to the string <span class="Courier">&lt;default&gt;</span> (including the &lt; and &gt; characters) to use the system default callback.</p>
        <p>The callback function’s return value informs the widget system “if and where” the drag source can be dropped onto the widget. The widget system then uses this information to provide the end-user with visual feedback about the legality and location of a drop. A secondary ability of the return value is to turn on the plus (+) indicator, which can be handy to distinguish between copies and moves. The following table details the meanings of the valid return values, which can be OR-ed together:</p>
        <table style="width: 250px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Table_No_Title.css');" class="TableStyle_Table_No_Title" cellspacing="0">
            <col width="84px" />
            <col width="166px" />
            <thead>
                <tr>
                    <td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Value</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColEnd">
                        <p class="CellHeading">Meaning</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_0_0_ColSep">
                        <p class="CellCentered">0</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_ColEnd">
                        <p class="CellCentered">User cannot drop</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColSep">
                        <p class="CellCentered">1</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColEnd">
                        <p class="CellCentered">User can drop onto</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColSep">
                        <p class="CellCentered">2</p>
                    </td>
                    <td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColEnd">
                        <p class="CellCentered">Show the plus indicator</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>When a DRAG_NOTIFY callback is not explicitly set on the graphics widget or is set to the string <span class="Courier">&lt;default&gt;</span> then the widget system default callback is used. The default callback returns 0 if drop events are not enabled (DROP_EVENTS=0) and 1 otherwise.</p>
        <h4>Creating a Drag Notification Callback Routine</h4>
        <p>The drag notification callback routine has the following signature:</p>
        <p class="Indent1"><span class="Courier">FUNCTION Callback_Function_Name, </span><i style="font-family: Times;font-style: italic;line-height: 13pt;">Destination</i><span class="Courier">, </span><i style="font-family: Times;font-style: italic;line-height: 13pt;">Source</i><span class="Courier">, $</span>
            <br /><i style="font-family: Times;font-style: italic;line-height: 13pt;">&#160;&#160;&#160;X</i><span class="Courier">, </span><i style="font-family: Times;font-style: italic;line-height: 13pt;">Y</i><span class="Courier">, </span><i style="font-family: Times;font-style: italic;line-height: 13pt;">Modifiers</i><span class="Courier">, </span><i style="font-family: Times;font-style: italic;line-height: 13pt;">Default</i>
        </p>
        <p>where</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><i>Callback_Function_Name</i> is the name of the callback function. This value is specified as the value of the DRAG_NOTIFY keyword.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><i>Destination</i> is the widget ID of the graphics widget over which the item is dragged.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><i>Source</i> is the widget ID of the item being dragged (this must currently be a tree widget node).</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><i>X</i> is the position to the right of the lower left corner of the drawable area, in device coordinates (pixels).</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><i>Y</i> is the position above the lower left corner of the drawable area, in device coordinates (pixels).</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><i>Modifiers</i> indicates the state of the modifier keys. The widget system generates them by OR-ing the following values together for the depressed keys:</td>
            </tr>
        </table>
        <table style="width: 237px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Table_Format.css');" class="TableStyle_Table_Format" cellspacing="0">
            <col width="101px" />
            <col width="136px" />
            <thead>
                <tr>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Bitmask</p>
                    </td>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd">
                        <p class="CellHeading">Modifier Key</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">1</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Shift</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">2</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">Control</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">4</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Caps Lock</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">8</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">Alt</p>
                    </td>
                </tr>
            </tbody>
            <caption valign="bottom" style="padding-bottom: 12pt;">
                <p class="TableTitle">Bitmask and Corresponding Key</p>
            </caption>
        </table>
        <p class="Note_Indented" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>For UNIX, the <span class="Bold">Alt</span> key is the currently mapped MOD1 key.</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><i>Default </i>is the value that the default callback would have returned. A common usage is to have the callback return its value after modifying it to show the <span class="Courier">+</span> indicator.</td>
            </tr>
        </table>
        <p>Specifying a drag notification callback does not enable drop events; you must set the DROP_EVENTS keyword to specify that drop events should be generated.</p>
        <p class="Warning" MadCap:autonum="&lt;b&gt;Warning: &lt;/b&gt;"><span class="autonumber"><span><b>Warning: </b></span></span>Custom drag notifications can pose potential dangers, please see the section <a class="MCXref" href="../../Creating IDL Programs/Creating Applications in IDL/Implementing_Drag_and_Dr.html#widget_draw_834959296_223967">Responding to Drag Notifications (Callbacks)</a><a class="MCXref" href="../../Creating IDL Programs/Creating Applications in IDL/About_Draw_Widgets.html#widget_draw_834959296_96303">About Draw Widgets</a> to learn more about these potential dangers.</p>
        <h3 class="Keyword">DROP_EVENTS</h3>
        <p>Use this keyword to specify whether or not the widget will generate drop events when the user drags an item onto the draw area with the mouse cursor and releases the mouse button. See “Widget Events Returned by Graphics Widgets” below for an explanation of the event structure.</p>
        <p>A value of 1 (one) causes the widget to generate drop events and a value of 0 (zero) causes the widget to not generate drop events. The default is to not generate drop events. Specifying a DRAG_NOTIFY callback does not affect a widget’s ability to generate drop events.</p>
        <h3 class="Keyword">EVENT_FUNC</h3>
        <p>A string containing the name of a function to be called by the WIDGET_EVENT function when an event arrives from a widget in the widget hierarchy rooted at the newly-created widget.</p>
        <h3 class="Keyword">EXPOSE_EVENTS</h3>
        <p>Set this keyword to make the graphics widget generate events when the visibility of the graphics widget changes. When using the hardware renderer (OpenGL), expose events are generated when the window is initial drawn, and every time the widget is brought to the foreground. When using the software rendered, only a single expose event is generated on the initial draw.</p>
        <h3 class="Keyword">FRAME</h3>
        <p>The value of this keyword specifies the width of a frame in units specified by the UNITS keyword (pixels are the default) to be drawn around the borders of the widget. Note that this keyword is only a hint to the toolkit, and may be ignored in some instances.</p>
        <h3 class="Keyword">GROUP_LEADER</h3>
        <p>The widget ID of an existing widget that serves as “group leader” for the newly-created widget. When a group leader is killed, for any reason, all widgets in the group are also destroyed. </p>
        <p>A given widget can be in more than one group. The WIDGET_CONTROL procedure can be used to add additional group associations to a widget. It is not possible to remove a widget from an existing group.</p>
        <h3 class="Keyword">IGNORE_ACCELERATORS</h3>
        <p>Set this keyword to specify what WIDGET_BUTTON a<a name="kanchor2888"></a>ccelerators are to be ignored when this graphics widget has keyboard focus. Setting IGNORE_ACCELERATORS allows a defined list of accelerators to be processed by the graphics widget instead of by the conflicting accelerated button. Valid values are:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">A string or string array containing any value that is legal for WIDGET_BUTTON’s <a class="MCXref" href="WIDGET_BUTTON.html#W_811389549_1069174">ACCELERATOR</a> keyword </td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The number 1, indicating all accelerators should be ignored</td>
            </tr>
        </table>
        <p>Ordinarily, accelerators are processed before keyboard events reach the widget that has the keyboard focus. Setting IGNORE_ACCELERATORS allows a defined list of accelerators to be processed by the graphics widget instead of by associated buttons or menu items. Once the graphics widget loses focus, all specified accelerators are automatically re-enabled.</p>See  <a href="../../Creating IDL Programs/Creating Applications in IDL/Enhancing_Widget_Applica.html#widget_techniques_4218446668_150796">Disabling Button Widget Accelerators</a> for usage details and examples. <h3 class="Keyword">KEYBOARD_EVENTS</h3><p><a name="kanchor2889"></a>Set this keyword equal to 1 (one) or 2 to make the graphics widget generate an event when it has the keyboard focus and a key is pressed or released. (The method by which a widget receives the keyboard focus is dependent on the window manager in use.) The value of the key pressed is reported in either the <span class="Courier">CH</span> or the <span class="Courier">KEY</span> field of the event structure, depending on the type of key pressed. See “Widget Events Returned by Graphics Widgets” below.</p><table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 16px;" /><col style="width: 24px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_Bullet" valign="top"><span>• </span></td><td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">If this keyword is set equal to 1, the graphics widget will generate an event when a “normal” key is pressed. “Normal” keys include all keys except function keys and the modifier keys: <span class="_Override" style="font-variant: small-caps;">Shift</span>, <span class="_Override" style="font-variant: small-caps;">Control</span>, <span class="_Override" style="font-variant: small-caps;">Caps Lock</span>, and <span class="_Override" style="font-variant: small-caps;">Alt</span>. If a modifier key is pressed at the same time as a normal key, the value of the modifier key is reported in the <span class="Courier">MODIFIERS</span> field of the event structure.</td></tr></table><table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 16px;" /><col style="width: 24px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_Bullet" valign="top"><span>• </span></td><td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">If this keyword is set equal to 2, the graphics widget will generate an event when <i>either</i> a normal key or a modifier key is pressed. Values for modifier keys are reported in the <span class="Courier">KEY</span> field of the event structure, and the <span class="Courier">MODIFIERS</span> field contains zero.</td></tr></table><p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Keyboard events are never generated for function keys.</p><h3 class="Keyword">KEYBOARD_HANDLER</h3><p class="Body">Set this property to the name of a function that will be called when a key is pressed or released. Please see <a href="../../GuideMe/KeyboardEventFunctions.html" class="MCXref">Creating Keyboard Event Functions</a> for details on how to write these functions.</p><h3 class="Keyword">KILL_NOTIFY</h3><p>Set this keyword to a string that contains the name of a procedure to be called automatically when the specified widget dies. Each widget is allowed a single such “callback” procedure. It can be removed by setting the routine to the null string (<span class="Courier">''</span>).</p><p>The callback routine is called with the widget identifier as its only argument. At that point, the widget identifier can only be used with the WIDGET_CONTROL procedure to get or set the user value. All other requests that require a widget ID are disallowed for the target widget. The callback is not issued until the WIDGET_EVENT function is called.</p><h3 class="Keyword">MOTION_EVENTS</h3><p>Set this keyword to make the graphics widget generate events when the mouse cursor moves across the widget.</p><h3 class="Keyword">MOUSE_DOWN_HANDLER</h3><p class="Body">Set this property to the name of a user-defined function that is called when the mouse button is pressed. See &#160;<a href="../../GuideMe/MouseEventFunctions.html" class="MCXref">Creating Mouse Event Functions</a> for details on how to write these functions.</p><h3 class="Keyword">MOUSE_MOTION_HANDLER</h3><p class="Body">Set this property to the name of a user-defined function that is called when the mouse is moved. See &#160;<a href="../../GuideMe/MouseEventFunctions.html" class="MCXref">Creating Mouse Event Functions</a> for details on how to write these functions.</p><h3 class="Keyword">MOUSE_UP_HANDLER</h3><p class="Body">Set this property to the name of a user-defined function that is called when the mouse button is released. See &#160;<a href="../../GuideMe/MouseEventFunctions.html" class="MCXref">Creating Mouse Event Functions</a> for details on how to write these functions.</p><h3 class="Keyword">MOUSE_WHEEL_HANDLER</h3><p class="Body">Set this property to the name of a user-defined function that is called when the mouse wheel is moved. See &#160;<a href="../../GuideMe/MouseEventFunctions.html" class="MCXref">Creating Mouse Event Functions</a> for details on how to write these functions.</p><h3 class="Keyword">NO_COPY</h3><p>Set this keyword to 1 to take the data away from the UVALUE variable and attach it directly to the widget. After the WIDGET_WINDOW function returns, the UVALUE variable will then be undefined. This keyword is ignored if UVALUE is not present.</p><h3 class="Keyword">NOTIFY_REALIZE</h3><p>Set this keyword to a string that contains the name of a procedure to be called automatically when the specified widget is realized. This callback occurs just once (because widgets are realized only once). Each widget is allowed a single such “callback” procedure. The callback routine is called with the widget ID as its only argument.</p><h3 class="Keyword">RENDERER</h3><p>Set this keyword to an integer value indicating which graphics renderer to use when drawing objects within the window. Valid values are:</p><table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 16px;" /><col style="width: 24px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_Bullet" valign="top"><span>• </span></td><td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">0 = Platform native OpenGL</td></tr></table><table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 16px;" /><col style="width: 24px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_Bullet" valign="top"><span>• </span></td><td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">1 = IDL’s software implementation</td></tr></table><p>By default, your platform’s native OpenGL implementation is used. If your platform does not have a native OpenGL implementation, IDL’s software implementation is used regardless of the value of this property.</p><h3 class="Keyword">RESOURCE_NAME</h3><p>A string containing an X Window System resource name to be applied to the widget. See <a class="MCXref" href="WIDGET_BASE.html#W_811389549_281150">RESOURCE_NAME</a> for a complete discussion of this keyword.</p><h3 class="Keyword">SELECTION_CHANGE_HANDLER</h3><p>Set this property to the name of a function  that is called when a graphic is selected or deselected. See &#160; <a href="../../GuideMe/Selection Change Event Handler.html" class="MCXref">Creating Selection Change Event Handlers</a> for details on how to write these functions.</p><h3 class="Keyword">SENSITIVE</h3><p>Set this keyword to 0 to turn off all event processing for the widget. The default is 1, which enables all event processing. After creating the widget hierarchy, you can change the sensitivity state using the SENSITIVE keyword with the <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_1232714">WIDGET_CONTROL </a> procedure.</p><h3 class="Keyword">TOOLTIP</h3><p>Set this keyword to a string that will be displayed when the cursor hovers over the widget. For UNIX platforms, this string must be non-zero in length.</p><h3 class="Keyword">TRACKING_EVENTS</h3><p>Set this keyword to cause widget tracking events to be issued for the widget whenever the mouse pointer enters or leaves the region covered by that widget. For the structure of tracking events, see <a class="MCXref" href="WIDGET_BASE.html#W_811389549_58059">TRACKING_EVENTS</a> in the documentation for WIDGET_BASE.</p><h3 class="Keyword">UNAME </h3><p>Set this keyword to a string that can be used to identify the widget in your code. You can associate a name with each widget in a specific hierarchy, and then use that name to query the widget hierarchy and get the correct widget ID.</p><p>To query the widget hierarchy, use the <a class="MCXref" href="WIDGET_INFO.html#W_811389549_680333">WIDGET_INFO </a> function with the FIND_BY_UNAME keyword. The UNAME should be unique to the widget hierarchy because the FIND_BY_UNAME keyword returns the ID of the first widget with the specified name.</p><h3 class="Keyword">UNITS</h3><p>Set this keyword to specify the units used when <i>supplying</i> measurements or position values. Set UNITS equal to 0 to specify that all measurements are in pixels (this is the default), to 1 to specify that all measurements are in inches, or to 2 to specify that all measurements are in centimeters. This keyword does not change the units used in a widget event structure or in most of the fields of the geometry structure returned by WIDGET_INFO.</p><h3 class="Keyword">UVALUE</h3><p>The “user value” to be assigned to the widget. Each widget can contain a user-specified value of any data type and organization. If UVALUE is not present, the widget’s initial user value is undefined.</p><h3 class="Keyword">VIEWPORT_EVENTS</h3><p>Set this keyword to enable viewport motion events for graphics widgets.</p><h3 class="Keyword">WHEEL_EVENTS</h3><p>Set this keyword to enable mouse scroll wheel events, which are disabled by default. An event is generated when scroll wheel events are enabled, the widget has the focus (Windows) or the mouse pointer is over the graphics widget (Motif), and the user rolls the scroll wheel. This event reports the scroll direction and distance, current mouse coordinates, and modifier keys. See “Widget Events Returned by Graphics Widgets” below.</p><p>When wheel events are not enabled, rolling the scroll wheel affects the vertical scroll bar, if present.</p><h3 class="Keyword">X_SCROLL_SIZE</h3><p>The width of the widget in units specified by the UNITS keyword (pixels are the default). By default X_SCROLL_SIZE is set equal to XSIZE.</p><h3 class="Keyword">Y_SCROLL_SIZE</h3><p>The height of the widget in units specified by the UNITS keyword (pixels are the default). By default Y_SCROLL_SIZE is set equal to YSIZE.</p><h3 class="Keyword">XSIZE</h3><p>The width of the graphics window (the drawing area) in units specified by the UNITS keyword (pixels are the default).  If XSIZE is larger than X_SCROLL_SIZE then scroll bars will be automatically added. By default, XSIZE is set equal to X_SCROLL_SIZE. If neither XSIZE nor X_SCROLL_SIZE is passed in, then the width is set to 640 pixels.</p><h3 class="Keyword">YSIZE</h3><p>The height of the graphics window (the drawing area) in units specified by the UNITS keyword (pixels are the default).   If YSIZE is larger than Y_SCROLL_SIZE then scroll bars will be automatically added. By default, YSIZE is set equal to Y_SCROLL_SIZE. If neither YSIZE nor Y_SCROLL_SIZE is passed in, then the height is set to 512 pixels.</p><h3 class="Keyword">XOFFSET</h3><p>The horizontal offset of the widget in units specified by the UNITS keyword (pixels are the default) relative to its parent.</p><p>Specifying an offset relative to a row or column major base widget does not work because those widgets enforce their own layout policies. This keyword is primarily of use relative to a plain base widget. Note that it is best to avoid using this style of widget layout.</p><h3 class="Keyword">YOFFSET</h3><p>The vertical offset of the widget in units specified by the UNITS keyword (pixels are the default) relative to its parent. This offset is specified relative to the <i>upper left</i> corner of the parent widget.</p><p>Specifying an offset relative to a row or column major base widget does not work because those widgets enforce their own layout policies. This keyword is primarily of use relative to a plain base widget. Note that it is best to avoid using this style of widget layout.</p><h3 class="Keyword">Keywords to WIDGET_CONTROL</h3><p>A number of keywords to the <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_1232714">WIDGET_CONTROL </a> procedure affect the behavior of graphics widgets. In addition to those keywords that affect all widgets, the following are particularly useful: <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_680097">DRAW_BUTTON_EVENTS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_907371">DRAW_EXPOSE_EVENTS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_985153">DRAW_KEYBOARD_EVENTS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_680099">DRAW_MOTION_EVENTS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_680101">DRAW_VIEWPORT_EVENTS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_1196277">DRAW_WHEEL_EVENTS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_58243">DRAW_XSIZE</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_58244">DRAW_YSIZE</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_680115">GET_DRAW_VIEW</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_680122">GET_VALUE</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_1183394">IGNORE_ACCELERATORS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_680138">INPUT_FOCUS</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_680169">SET_DRAW_VIEW</a>, <a class="MCXref" href="WIDGET_CONTROL.html#W_811389549_982093">TOOLTIP</a>.</p><h2>Keywords to WIDGET_INFO</h2><p>A number of keywords to the <a class="MCXref" href="WIDGET_INFO.html#W_811389549_680333">WIDGET_INFO </a> function return information that applies specifically to graphics widgets. In addition to those keywords that apply to all widgets, the following are particularly useful: <a class="MCXref" href="WIDGET_INFO.html#W_811389549_971032">DRAW_BUTTON_EVENTS</a>, <a class="MCXref" href="WIDGET_INFO.html#W_811389549_909787">DRAW_EXPOSE_EVENTS</a>, <a class="MCXref" href="WIDGET_INFO.html#W_811389549_985204">DRAW_KEYBOARD_EVENTS</a>, <a class="MCXref" href="WIDGET_INFO.html#W_811389549_985200">DRAW_MOTION_EVENTS</a>, <a class="MCXref" href="WIDGET_INFO.html#W_811389549_680350">DRAW_VIEWPORT_EVENTS</a>, <a class="MCXref" href="WIDGET_INFO.html#W_811389549_1196323">DRAW_WHEEL_EVENTS</a>, <a class="MCXref" href="WIDGET_INFO.html#W_811389549_1186243">STRING_SIZE</a>, <a class="MCXref" href="WIDGET_INFO.html#W_811389549_982130">TOOLTIP</a>.</p><h2>Widget Events Returned by Graphics Widgets</h2><p>By default, graphics widgets do not generate events. If the BUTTON_EVENTS keyword is set when the widget is created, pressing or releasing any mouse button while the mouse cursor is over the graphics widget causes events to be generated. Specifying the MOTION_EVENTS keyword causes events to be generated <i>continuously</i> as the mouse cursor moves across the graphics widget. Specifying the EXPOSE_EVENTS keyword causes events to be generated whenever the visibility of any portion of the draw window (or viewport) changes. Specifying the KEYBOARD_EVENTS keyword causes events to be generated when the graphics widget has keyboard focus and a keyboard key is pressed. Specifying the WHEEL_EVENTS keyword causes events to be generated when the graphics widget has focus and the scroll wheel is rolled.</p><p>Graphics widgets can also generate events when an item is dragged onto the drawing area and the mouse button is released. See “Drop Events” below and the DROP_EVENTS keyword for details.</p><p>The event structure returned by the WIDGET_EVENT function is defined by the following statement:</p><p class="Code">{WIDGET_DRAW, ID:0L, TOP:0L, HANDLER:0L, TYPE: 0, X:0L, Y:0L,</p><p class="Code">&#160;&#160;&#160;PRESS:0B, RELEASE:0B, CLICKS:0L, MODIFIERS:0L, CH:0B, KEY:0L }</p><p>ID, TOP, and HANDLER are the three standard fields found in every widget event. TYPE returns a value that describes the type of graphics widget interaction that generated an event. The values for TYPE are shown in the table below.</p><table style="width: 419px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Keyword_Table.css');" class="TableStyle_Keyword_Table" cellspacing="0"><col width="75px" /><col width="344px" /><tbody><tr><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep"><p class="CellCentered"><span class="_Override" style="font-family: Times;line-height: 13pt;">0</span></p></td><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd"><p class="CellBody">Button press</p></td></tr><tr><td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep"><p class="CellCentered">1</p></td><td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd"><p class="CellBody">Button release</p></td></tr><tr><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep"><p class="CellCentered">2</p></td><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd"><p class="CellBody">Motion</p></td></tr><tr><td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep"><p class="CellCentered">3</p></td><td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd"><p class="CellBody">Viewport moved (scrollbars)</p></td></tr><tr><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep"><p class="CellCentered">4</p></td><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd"><p class="CellBody">Visibility changed (exposed)</p></td></tr><tr><td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep"><p class="CellCentered">5</p></td><td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd"><p class="CellBody">Key press (ASCII character value reported in CH field)</p></td></tr><tr><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep"><p class="CellCentered">6</p></td><td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd"><p class="CellBody">Key press (non-ASCII key value reported in KEY field)</p></td></tr><tr><td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColSep"><p class="CellCentered">7</p></td><td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColEnd"><p class="CellBody">Wheel scroll</p></td></tr></tbody></table><p>In most cases, the X and Y fields give the device coordinates at which the event occurred, measured from the lower left corner of the viewport.</p><p>For button and “viewport moved” events (that is, when the TYPE field contains 0, 1, or 3), the PRESS and RELEASE fields report which of the left, center, or right mouse button was pressed:</p><table style="width: 261px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Table_Format.css');" class="TableStyle_Table_Format" cellspacing="0"><col width="87px" /><col width="174px" /><thead><tr><td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep"><p class="CellHeading">Value</p></td><td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd"><p class="CellHeading">Mouse Button</p></td></tr></thead><tbody><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">1</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Left</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep"><p class="CellCentered">2</p></td><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd"><p class="CellBody">Middle</p></td></tr><tr><td class="TableStyle_Table_Format_Body_0_0_RowEnd_ColSep"><p class="CellCentered">4</p></td><td class="TableStyle_Table_Format_Body_0_0_RowEnd_ColEnd"><p class="CellBody">Right</p></td></tr></tbody><caption valign="bottom" style="padding-bottom: 12pt;"><p class="TableTitle">Possible values of the PRESS and RELEASE <br />Fields During Button Events</p></caption></table><p>For motion and wheel events, both PRESS and RELEASE are zero. For keyboard events, PRESS contains 1 (one) if the key is down and 0 (zero) if it is up; RELEASE contains 0 (zero) if the key is down and 1 (one) if it is up.</p><p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>IDL obtains information about which mouse button was pressed from the operating system, not from the mouse hardware itself. This means that if the operating system or some extension thereof remaps the mouse buttons, IDL may receive information that one button was pressed even if a different physical button was pressed. For example, if a user remaps the mouse buttons to reverse left and right, and then presses the right physical mouse button, the widget event structure will reflect a left mouse button press.</p><p>The CLICKS field has one of three possible sets of values:</p><table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 16px;" /><col style="width: 24px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_Bullet" valign="top"><span>• </span></td><td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">If the event is a button press, the field is set to either 1 or 2. If the time interval between two button-press events is less than the time interval for a double-click event for the platform, the CLICKS field returns 2. If the time interval between button-press events is greater than the time interval for a double-click event for the platform, the CLICKS field returns 1. This means that if you are writing a widget application that requires the user to double-click on a graphics widget, you will need to handle two events. The CLICKS field will return a 1 on the first click and a 2 on the second click.</td></tr></table><table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 16px;" /><col style="width: 24px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_Bullet" valign="top"><span>• </span></td><td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">If the event is a wheel scroll, the field indicates the direction and distance that the wheel was rolled. Forward movement gives a positive value; backward movement gives a negative value. Normally the value is 1 or -1, but other values are possible if the user scrolls quickly.</td></tr></table><table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 16px;" /><col style="width: 24px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_Bullet" valign="top"><span>• </span></td><td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">If the event is not a button-press or wheel event, the CLICKS field contains a 0.</td></tr></table><p>The MODIFIERS field is valid for button press, button release, motion, wheel, and “normal” keyboard events. It is a bitmask which returns the current state of several keyboard modifier keys at the time the event was generated. If a bit is zero, the key is up. If the bit is set, the key is depressed. </p><p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>“Normal” keyboard events are generated when the KEYBOARD_EVENTS keyword is set equal to one. If KEYBOARD_EVENTS is set equal to two, the key-press event for a modifier key contains zero in the MODIFIERS field and the key value is reported in the KEY field; see below.</p><p>The value in the MODIFIERS field is generated by OR-ing the following values together if a key is depressed.</p><table style="width: 486px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Table_Format.css');" class="TableStyle_Table_Format" cellspacing="0"><col width="91px" /><col width="395px" /><thead><tr><td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep"><p class="CellHeading">Bitmask</p></td><td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd"><p class="CellHeading">Modifier Key</p></td></tr></thead><tbody><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">1</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Shift</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep"><p class="CellCentered">2</p></td><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd"><p class="CellBody">Control</p></td></tr><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">4</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Caps Lock</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep"><p class="CellCentered">8</p></td><td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColEnd"><p class="CellBody">Alt (see the note following this table)</p></td></tr></tbody><caption valign="bottom" style="padding-bottom: 12pt;"><p class="TableTitle">Bitmask for the MODIFIERS Field</p></caption></table><p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Under UNIX, the <span class="Bold">Alt</span> key is the currently mapped MOD1 key.</p><p>Keyboard events are generated with the value of the TYPE field equal to 5 or 6. If the event was generated by an ASCII keyboard character, the TYPE field will be set to 5 and the ASCII value of the key will be returned in the CH field. (Note that ASCII values can be converted to the string representing the character using the IDL STRING routine.) If the event was generated due to a non-ASCII keyboard character, the type of the event will be set to 6 and a numeric value representing the key will be returned in the KEY field. The following table lists the possible values of the KEY field.</p><p>Note that for the key values reported in the KEY field for the <span class="Bold">Shift</span>, <span class="Bold">Control</span>, <span class="Bold">Caps Lock</span>, and <span class="Bold">Alt</span> keys are not the same as those reported in the MODIFIER field bit mask, since the KEY field is not a bitmask.</p><table style="width: 264px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Table_Format.css');" class="TableStyle_Table_Format" cellspacing="0"><col width="125px" /><col width="139px" /><thead><tr><td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep"><p class="CellHeading">Key Field Value</p></td><td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd"><p class="CellHeading">Keyboard Key</p></td></tr></thead><tbody><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">1</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Shift</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep"><p class="CellCentered">2</p></td><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd"><p class="CellBody">Control</p></td></tr><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">3</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Caps Lock</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep"><p class="CellCentered">4</p></td><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd"><p class="CellBody">Alt</p></td></tr><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">5</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Left</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep"><p class="CellCentered">6</p></td><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd"><p class="CellBody">Right</p></td></tr><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">7</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Up</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep"><p class="CellCentered">8</p></td><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd"><p class="CellBody">Down</p></td></tr><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">9</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Page Up</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep"><p class="CellCentered">10</p></td><td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd"><p class="CellBody">Page Down</p></td></tr><tr><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep"><p class="CellCentered">11</p></td><td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd"><p class="CellBody">Home</p></td></tr><tr><td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep"><p class="CellCentered">12</p></td><td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColEnd"><p class="CellBody">End</p></td></tr></tbody><caption valign="bottom" style="padding-bottom: 12pt;"><p class="TableTitle"><a name="W_811389549_69696"></a>Modifier Key Values Reported in the KEY field</p></caption></table><h3>Drop Events</h3><p>This structure is returned when a drop event occurs:</p><p class="Code">{WIDGET_DROP, ID:0L, TOP:0L, HANDLER:0L, DRAG_ID:0L, <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;POSITION:0L, X:0L, Y:0L, MODIFIERS:0L}</p><p>To receive this event the widget must accept drop events (see the DROP_EVENTS keyword). The ID field reports the destination widget and the DRAG_ID reports the source. The POSITION field for a graphics widget always contains the value 1 (one). The X and Y fields give the pixel coordinates of the drop event relative to the lower left corner of the drawing area. The MODIFIERS field reports which keys were pressed at the time the drop event was generated. </p><p>The MODIFIERS field is a bitmask of four values:</p><table style="width: 250px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Table_No_Title.css');" class="TableStyle_Table_No_Title" cellspacing="0"><col width="84px" /><col width="166px" /><thead><tr><td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColSep"><p class="CellHeading">Bitmask</p></td><td class="TableStyle_Table_No_Title_Head_0_0_RowSep_ColEnd"><p class="CellHeading">Modifier Key</p></td></tr></thead><tbody><tr><td class="TableStyle_Table_No_Title_Body_0_0_ColSep"><p class="CellCentered">1</p></td><td class="TableStyle_Table_No_Title_Body_0_0_ColEnd"><p class="CellCentered">Shift</p></td></tr><tr><td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColSep"><p class="CellCentered">2</p></td><td class="TableStyle_Table_No_Title_Body_0_0_RowSep_ColEnd"><p class="CellCentered">Control</p></td></tr><tr><td class="TableStyle_Table_No_Title_Body_1_0_ColSep"><p class="CellCentered">4</p></td><td class="TableStyle_Table_No_Title_Body_1_0_ColEnd"><p class="CellCentered">Caps Lock</p></td></tr><tr><td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColSep"><p class="CellCentered">8</p></td><td class="TableStyle_Table_No_Title_Body_1_0_RowEnd_ColEnd"><p class="CellCentered">Alt</p></td></tr></tbody></table><h2>Example</h2><p>The following example creates an IDL widget application with a main graphics window, and a status bar at the bottom. When you move the mouse around the window, the X and Y locations are displayed in the status bar. </p><p>Save all of the following code into a file named "ex_widwin.pro". Then, from within IDL, compile and run the code.</p><p class="Code">pro ex_widwin_event, event</p><p class="Code">&#160;</p><p class="Code">; Be sure to process the internal window event first.</p><p class="Code">; This handles selection, translation, rotation, etc.</p><p class="Code">w = WIDGET_EVENT(/NOWAIT)</p><p class="Code">&#160;</p><p class="Code">case TAG_NAMES(event, /STRUCTURE_NAME) of</p><p class="Code">&#160;</p><p class="Code">'WIDGET_DRAW': begin</p><p class="Code">case (event.type) of</p><p class="Code">2: begin  ; mouse motion</p><p class="Code">; Retrieve the plot reference.</p><p class="Code">WIDGET_CONTROL, event.id, GET_UVALUE=p</p><p class="Code">; Make sure our plot is up and running.</p><p class="Code">if (~ISA(p)) then return</p><p class="Code">; Convert from screen coordinates to data coordinates.</p><p class="Code">xy = p.ConvertCoord(event.x, event.y, /DEVICE, /TO_DATA)</p><p class="Code">probe = STRING(xy[0:1], FORMAT='(2F9.2)')</p><p class="Code">wLabel = WIDGET_INFO(event.top, FIND_BY_UNAME='ex_widwin_label')</p><p class="Code">WIDGET_CONTROL, wLabel, SET_VALUE=probe</p><p class="Code">end</p><p class="Code">else: ; do nothing</p><p class="Code">endcase</p><p class="Code">end</p><p class="Code">&#160;</p><p class="Code">'WIDGET_BASE': begin</p><p class="Code">; Handle base resize events. Retrieve our cached padding,</p><p class="Code">; and our new size.</p><p class="Code">WIDGET_CONTROL, event.id, GET_UVALUE=pad, TLB_GET_SIZE=newSize</p><p class="Code">wDraw = WIDGET_INFO(event.top, FIND_BY_UNAME='ex_widwin_window')</p><p class="Code">; Change the draw widget to match the new size, minus padding.</p><p class="Code">xy = newSize - pad</p><p class="Code">WIDGET_CONTROL, wDraw, $</p><p class="Code">DRAW_XSIZE=xy[0], DRAW_YSIZE=xy[1], $</p><p class="Code">SCR_XSIZE=xy[0], SCR_YSIZE=xy[1]</p><p class="Code">end</p><p class="Code">else: ; do nothing</p><p class="Code">endcase</p><p class="Code">&#160;</p><p class="Code">end</p><p class="Code">&#160;</p><p class="Code">&#160;</p><p class="Code">pro ex_widwin</p><p class="Code">&#160;</p><p class="Code">; Create the widgets</p><p class="Code">wBase = WIDGET_BASE(/COLUMN, $</p><p class="Code">/TLB_SIZE_EVENTS)</p><p class="Code">wDraw = WIDGET_WINDOW(wBase, $</p><p class="Code">/BUTTON_EVENTS, $</p><p class="Code">/KEYBOARD_EVENTS, $</p><p class="Code">/MOTION_EVENTS, $</p><p class="Code">UNAME='ex_widwin_window', $</p><p class="Code">X_SCROLL_SIZE=640, Y_SCROLL_SIZE=512)</p><p class="Code">w1 = WIDGET_LABEL(wBase, $</p><p class="Code">/ALIGN_LEFT, $</p><p class="Code">/DYNAMIC, $</p><p class="Code">UNAME='ex_widwin_label')</p><p class="Code">&#160;</p><p class="Code">; Start the event processing</p><p class="Code">WIDGET_CONTROL, wBase, /REALIZE</p><p class="Code">XMANAGER, 'ex_widwin', wBase, /NO_BLOCK</p><p class="Code">&#160;</p><p class="Code">; Cache the padding between the base and the draw</p><p class="Code">WIDGET_CONTROL, wBase, TLB_GET_SIZE=basesize</p><p class="Code">xpad = basesize[0] - 640</p><p class="Code">ypad = basesize[1] - 512</p><p class="Code">WIDGET_CONTROL, wBase, SET_UVALUE=[xpad,ypad]</p><p class="Code">&#160;</p><p class="Code">; Retrieve the newly-created Window object.</p><p class="Code">WIDGET_CONTROL, wDraw, GET_VALUE=win</p><p class="Code">&#160;</p><p class="Code">; Make sure this is the current window</p><p class="Code">win.Select</p><p class="Code">p = PLOT(/TEST, /CURRENT)</p><p class="Code">&#160;</p><p class="Code">; Cache the plot reference for later.</p><p class="Code">WIDGET_CONTROL, wDraw, SET_UVALUE=p</p><p class="Code">&#160;</p><p class="Code">end</p><h2>Version History</h2><table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0"><col width="91px" /><col width="408px" /><tbody><tr><td class="TableStyle_Version_Table_Body_0_0_ColSep"><p class="CellBody">8.0</p></td><td class="TableStyle_Version_Table_Body_0_0_ColEnd"><p class="CellBody">Introduced</p></td></tr><tr><td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">8.1</td><td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">Added the following properties: KEYBOARD_HANDLER, MOUSE_DOWN_HANDLER, MOUSE_MOTION_HANDLER, MOUSE_UP_HANDLER, MOUSE_WHEEL_HANDLER, SELECTION_CHANGE_HANDLER</td></tr></tbody></table><h2><a name="W_811389549_983439"></a><a name="W_811389549_983439_PageTOC_WIDGET_DRAW_"></a>See Also</h2><p><a class="MCXref" href="WIDGET_DRAW.html#W_811389549_680218" target="" title="" alt="">WIDGET_DRAW </a>,
			<a class="MCXref" href="WINDOW.html#top" target="" title="" alt="">WINDOW</a></p><script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js"></script></body>
</html>