<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: W" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>WRITE_GIF</title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Keyword_Table.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/W/WRITE_GIF.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="WAIT.html">Routines: W</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">WRITE_GIF</span>
        </div>
        <h1 class="Routine"><a name="W_811389549_1068094"></a><a name="W_811389549_20502"></a>WRITE_GIF</h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#W_811389549_1068101">Syntax</a> | <a class="MCXref" href="#W_811389549_1068103">Arguments</a> | <a class="MCXref" href="#W_811389549_1068110">Keywords</a> | <a class="MCXref" href="#W_811389549_1230642">Example</a> | <a class="MCXref" href="#W_811389549_1068126">Version History</a> | <a class="MCXref" href="#W_811389549_1068128">See Also</a></MadCap:conditionalText>
        </p>
        <p>The <a name="kanchor2901"></a>WRITE_GIF procedure writes an image and its color table vectors to a Graphics Interchange Format (<a name="kanchor2902"></a>GIF) file.</p>
        <p>WRITE_GIF produces 8-bit non-interlaced GIF files.</p>
        <p>This routine is written in the IDL language. Its source code can be found in the file <span class="Courier">write_gif.pro</span> in the <span class="Courier">lib</span> subdirectory of the IDL distribution.</p>
        <h2><a name="W_811389549_1068101"></a><a name="W_811389549_1068101_PageTOC_WRITE_GIF_"></a>Syntax</h2>
        <p class="Syntax">WRITE_GIF, <i>Filename</i>, <i>Image</i>[,&#160;<i>R</i>, <i>G</i>, <i>B</i>] [,&#160;<a class="MCXref" href="#W_811389549_1230597">BACKGROUND_COLOR</a>=<i>value</i>] [,&#160;/<a class="MCXref" href="#W_811389549_1068115">CLOSE</a>] [,&#160;<a class="MCXref" href="#W_811389549_1230649">DELAY_TIME</a>=<i>integer</i>] [,&#160;<a class="MCXref" href="#W_811389549_1230696">DISPOSAL_METHOD</a>=<i>integer</i>] [,&#160;/<a class="MCXref" href="#W_811389549_1068121">MULTIPLE</a>] [,&#160;<a class="MCXref" href="#W_811389549_1230807">REPEAT_COUNT</a>=<i>integer</i>] [,&#160;<a class="MCXref" href="#W_811389549_1230851">TRANSPARENT</a>=<i>value</i>] [,&#160;<a class="MCXref" href="#W_811389549_1230888">USER_INPUT</a>=<i>value</i>]</p>
        <h2><a name="W_811389549_1068103"></a><a name="W_811389549_1068103_PageTOC_WRITE_GIF_"></a>Arguments</h2>
        <h3 class="Argument">Filename</h3>
        <p>A scalar string containing the full pathname of the GIF file to write.</p>
        <h3 class="Argument">Image</h3>
        <p>The array to write into the new GIF file.</p>
        <h3 class="Argument">R, G, B</h3>
        <p>The Red, Green, and Blue color vectors to be written with to the GIF file. If <i>R</i>, <i>G</i>, <i>B</i> values are not provided, the last color table established using LOADCT is saved, and the table is padded to 256 entries. If no color table has been established, WRITE_GIF calls LOADCT to load the grayscale entry (table 0). For GIF files with multiple images, when writing the second and subsequent images, if R, G, B are present then they will be written into the local color map for the current image.</p>
        <h2><a name="W_811389549_1068110"></a><a name="W_811389549_1068110_PageTOC_WRITE_GIF_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="W_811389549_1230597"></a><a name="W_811389549_13369"></a>BACKGROUND_COLOR</h3>
        <p>Set this keyword to a byte value giving the index within the global color table to be designated as the background. The default value is 0.</p>
        <h3 class="Keyword"><a name="W_811389549_1068115"></a><a name="W_811389549_1068115_Keywords_WRITE_GIF_"></a><a name="W_811389549_1043488_Keywords_WRITE_GIF_"></a>CLOSE</h3>
        <p>Set this keyword to close any open files. The CLOSE keyword is only useful if a file containing multiple images (as specified by the MULTIPLE keyword) is being written. If the CLOSE keyword is specified, nothing is written to the file, and all other parameters are ignored.</p>
        <h3 class="Keyword"><a name="W_811389549_1230649"></a><a name="W_811389549_51071"></a>DELAY_TIME</h3>
        <p>For multi-image GIF files, set this keyword to an integer giving the delay in hundredths (1/100) of a second after the decoder displays the current image. This keyword can be set to a different value for each image within the file.</p>
        <h3 class="Keyword"><a name="W_811389549_1230696"></a><a name="W_811389549_42580"></a>DISPOSAL_METHOD</h3>
        <p>For multi-image GIF files, set this keyword to an integer giving the method that the decoder should use for disposing the current image after display. Possible values are:</p>
        <table style="width: 265px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Keyword_Table.css');" class="TableStyle_Keyword_Table" cellspacing="0">
            <col width="81px" />
            <col width="184px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">0</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">No disposal specified. The decoder is not required to take any action.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">1</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody">Do not dispose. The graphic is to be left in place.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">2</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody">Restore to background color. The area used by the graphic must be restored to the background color.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">3</p>
                    </td>
                    <td class="TableStyle_Keyword_Table_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody">Restore to previous. The decoder is required to restore the area overwritten by the graphic with what was there prior to rendering the graphic.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>This keyword can be set to a different value for each image within the file.</p>
        <h3 class="Keyword"><a name="W_811389549_1068121"></a><a name="W_811389549_1068121_Keywords_WRITE_GIF_"></a><a name="W_811389549_1043490_Keywords_WRITE_GIF_"></a>MULTIPLE</h3>
        <p>Set this keyword to write multiple images to a file. Each call to WRITE_GIF writes the next image, with the file remaining open between calls. The <i>Filename</i> argument is ignored after the first call, <i>but must be supplied</i>. All images written to a GIF file must be the same size.</p>
        <h3 class="Keyword"><a name="W_811389549_1230807"></a><a name="W_811389549_85622"></a>REPEAT_COUNT</h3>
        <p>For multi-image GIF files, set this keyword to an integer giving the number of times that the decoder should repeat the animation. Set this keyword to zero to repeat an infinite number of times. This keyword is written using the Netscape application extension and may not be recognized by some decoders.</p>
        <h3 class="Keyword"><a name="W_811389549_1230851"></a><a name="W_811389549_19964"></a>TRANSPARENT</h3>
        <p>Set this keyword to a byte value giving the index within the color table to be designated as the transparent color. If this keyword is not present or is set to -1 then no transparent index is written. This keyword can be set to a different value for each image within the file.</p>
        <h3 class="Keyword"><a name="W_811389549_1230888"></a><a name="W_811389549_50735"></a>USER_INPUT</h3>
        <p>Set this keyword to a flag indicating whether the decoder should require user input before continuing processing. The nature of the user input is determined by the application (carriage return, mouse button click, etc.). When DELAY_TIME is used and USER_INPUT is set, the decoder should continue processing when user input is received or when the delay time expires, whichever occurs first. This keyword may be set to a different value for each image within the file.</p>
        <h2><a name="W_811389549_1230642"></a><a name="W_811389549_1230642_PageTOC_WRITE_GIF_"></a>Example</h2>
        <p>The following command captures the contents of the current IDL graphics window and saves it to a GIF file named <span class="Courier">test.gif</span>. Note that this works only on a PseudoColor (8-bit) display:</p>
        <p class="Code">WRITE_GIF, 'test.gif', TVRD()</p>
        <p>The following lines create an image in an IDL graphics window, read it from the window and write it as a <span class="Courier">.gif</span> file in the temporary directory, then read the <span class="Courier">.gif</span> file and display it in the same graphics window:</p>
        <p class="IDLCode">; Save device settings and tell IDL to use a color table<br />DEVICE, GET_DECOMPOSED=old_decomposed<br />DEVICE, DECOMPOSED=0<br />LOADCT, 14<br /><br />; Create an image and display it<br />IMAGE1 = DIST(300)<br />WINDOW, 1, XSIZE=300, YSIZE=300<br />TV, IMAGE1<br /><br />; Write a bitmap file to the temporary directory<br />; Note the use of the TRUE keyword to TVRD<br />filename = FILEPATH('test.gif', /TMP)<br />WRITE_GIF, filename, TVRD(/TRUE)<br />PRINT, 'File written to ', filename<br /><br />; Read in the bitmap file<br />IMAGE2 = READ_GIF(filename)<br /><br />; Display the IMAGE1 and IMAGE2 side by side<br />; Note the use of the TRUE keyword to TV<br />WINDOW, 1, XSIZE=600, YSIZE=300, $<br />   TITLE='Original (left) and Image read from file (right)'<br />TV, IMAGE1, 0<br />TV, IMAGE2, 1, /TRUE<br /><br />; Restore device settings.<br />DEVICE, DECOMPOSED=old_decomposed</p>
        <h2><a name="W_811389549_1068126"></a><a name="W_811389549_1068126_PageTOC_WRITE_GIF_"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_ColSep">
                        <p class="CellBody">Pre-4.0</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">6.4</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Added BACKGROUND_COLOR, DELAY_TIME, DISPOSAL_METHOD, REPEAT_COUNT, TRANSPARENT, and USER_INPUT keywords</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="W_811389549_1068128"></a><a name="W_811389549_1068128_PageTOC_WRITE_GIF_"></a>See Also</h2>
        <p><a class="MCXref" href="../R/READ_GIF.html#R_822202989_1165736">READ_GIF</a>, <a class="MCXref" href="WRITE_JPEG.html#W_811389549_959943">WRITE_JPEG </a>, <a class="MCXref" href="../Q/QUERY___Routines.html#Q_815714925_982368">QUERY_* Routines</a></p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>