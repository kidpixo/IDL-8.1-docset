<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: C|CDF Routines" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>CDF_COMPRESSION</title>
        <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../../idl_CSH.html#Reference Material/C/CDF Routines/CDF_COMPRESSION.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../CURSOR.html">Routines: C</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../CDF_Routines.html">CDF Routines</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">CDF_COMPRESSION</span>
        </div>
        <h1 class="Routine"><a name="CDF_1744428779_1006206"></a><a name="CDF_1744428779_96448"></a>CDF_COMPRESSION</h1>
        <p>The <a name="kanchor221"></a>CDF_COMPRESSION procedure sets or returns the compression mode for a CDF file and/or variables. Compression parameters should be set before values are written to the CDF file.</p>
        <h3><a name="CDF_1744428779_1021019_PageTOC_CDF_COMPRESSION_"></a>Special Note About Temporary File Location</h3>
        <p>CDF creates temporary files whenever files/variables are compressed or uncompressed. By default, these files are created in the current directory. UNIX users can set the environment variable CDF_TMP to set the temporary directory explicitly.</p>
        <h2 class="NoTOC"><a name="CDF_1744428779_1019932_PageTOC_CDF_COMPRESSION_"></a>Syntax</h2>
        <p class="Syntax">CDF_COMPRESSION, Id [,&#160;<a class="MCXref" href="#CDF_1744428779_1006274">GET_COMPRESSION </a>=<span class="Italic">variable</span>] [,&#160;<a class="MCXref" href="#CDF_1744428779_1006277">GET_GZIP_LEVEL </a>=<span class="Italic">variable</span>] [,&#160;<a class="MCXref" href="#CDF_1744428779_1006280">GET_VAR_COMPRESSION </a>=<span class="Italic">variable</span>] [,&#160;<a class="MCXref" href="#CDF_1744428779_1006283">GET_VAR_GZIP_LEVEL </a>=<span class="Italic">variable</span>] [,&#160;<a class="MCXref" href="#CDF_1744428779_1006286">SET_COMPRESSION </a>={0 | 1 | 2 | 3 | 5}] [,&#160;<a class="MCXref" href="#CDF_1744428779_1006294">SET_GZIP_LEVEL </a>=<span class="Italic">integer</span>{1 to 9}] [,&#160;<a class="MCXref" href="#CDF_1744428779_1006297">SET_VAR_COMPRESSION </a>={0&#160;|&#160;1&#160;|&#160;2&#160;|&#160;3&#160;|&#160;5}] [,&#160;<a class="MCXref" href="#CDF_1744428779_1006305">SET_VAR_GZIP_LEVEL </a>=<span class="Italic">integer</span>{1 to 9}] <br />[,&#160;<a class="MCXref" href="#CDF_1744428779_1006308">VARIABLE </a>=<span class="Italic">variable name or index</span>] [,&#160;/<a class="MCXref" href="#CDF_1744428779_1006311">ZVARIABLE </a>]</p>
        <h2 class="NoTOC"><a name="CDF_1744428779_1019936_PageTOC_CDF_COMPRESSION_"></a>Arguments</h2>
        <h3 class="Argument">Id </h3>
        <p>The CDF ID of the file being compressed or queried, as returned from a previous call to CDF_OPEN or CDF_CREATE. Note that CDF compression only works for single-file CDF files (see <a class="MCXref" href="CDF_CREATE.html#CDF_1744428779_1006635">CDF_CREATE</a>).</p>
        <h2 class="NoTOC"><a name="CDF_1744428779_1020953_PageTOC_CDF_COMPRESSION_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="CDF_1744428779_1006274"></a><a name="CDF_1744428779_1019949_Keywords_CDF_COMPRESSION_"></a>GET_COMPRESSION </h3>
        <p>Set this keyword to a named variable to retrieve the compression type used for the single-file CDF file. Note that individual CDF variables may compression types different that the one for the rest of the CDF file.</p>
        <h3 class="Keyword"><a name="CDF_1744428779_1006277"></a><a name="CDF_1744428779_1019952_Keywords_CDF_COMPRESSION_"></a>GET_GZIP_LEVEL </h3>
        <p>Set this keyword to a named variable in which the current GZIP effort level (1-9) for the CDF file is returned. If the compression type for the file is not GZIP (5), then a value of zero is returned.</p>
        <h3 class="Keyword"><a name="CDF_1744428779_1006280"></a><a name="CDF_1744428779_1019955_Keywords_CDF_COMPRESSION_"></a>GET_VAR_COMPRESSION </h3>
        <p>Set this keyword to a named variable to retrieve the compression type for the variable identified by the VARIABLE keyword.</p>
        <h3 class="Keyword"><a name="CDF_1744428779_1006283"></a><a name="CDF_1744428779_1019957_Keywords_CDF_COMPRESSION_"></a>GET_VAR_GZIP_LEVEL </h3>
        <p>Set this keyword to a named variable in which the GZIP effort level (1-9) for variable specified by the VARIABLE keyword is returned. If the compression type for the variable is not GZIP (5), then a value of zero is returned.</p>
        <h3 class="Keyword"><a name="CDF_1744428779_1006286"></a><a name="CDF_1744428779_1019965_Keywords_CDF_COMPRESSION_"></a>SET_COMPRESSION </h3>
        <p>Set this keyword to the compression type to be used for the single-file CDF file. Note that individual CDF variables may use compression types different than the one for the rest of the CDF file. Valid compression types are: </p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">0 = No Compression</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">1 = Run-Length Encoding</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">2 = Huffman</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">3 = Adaptive Huffman</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">5 = GZIP (see the optional GZIP_LEVEL keyword)</td>
            </tr>
        </table>
        <h3 class="Keyword"><a name="CDF_1744428779_1006294"></a><a name="CDF_1744428779_1020981_Keywords_CDF_COMPRESSION_"></a>SET_GZIP_LEVEL </h3>
        <p>This keyword is used to indicate the desired effort for the GZIP compression. This effort must be expressed as a scalar in the range (1-9). If GZIP_LEVEL is not specified upon entry then the default effort level is taken to be 5. If the SET_GZIP_LEVEL keyword is set to a valid value, and the keyword SET_COMPRESSION is not specified, the SET_COMPRESSION is set to GZIP (5).</p>
        <h3 class="Keyword"><a name="CDF_1744428779_1006297"></a><a name="CDF_1744428779_1019968_Keywords_CDF_COMPRESSION_"></a>SET_VAR_COMPRESSION </h3>
        <p>Set this keyword to the compression type for the variable identified by the VARIABLE keyword. If the variable is a zVariable, and is referred to by index in the VARIABLE keyword, then the keyword ZVARIABLE must be set. The desired variable compression should be set before variable data is added with CDF_VARPUT. Valid compression types are: </p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">0 = No Compression</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">1 = Run-Length Encoding</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">2 = Huffman</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">3 = Adaptive Huffman</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">5 = GZIP (see the optional GZIP_LEVEL keyword)</td>
            </tr>
        </table>
        <h3 class="Keyword"><a name="CDF_1744428779_1006305"></a><a name="CDF_1744428779_1026491_Keywords_CDF_COMPRESSION_"></a>SET_VAR_GZIP_LEVEL </h3>
        <p>Set this keyword to the GZIP effort level (1-9). If the compression type for the variable is not GZIP (5), no action is performed.</p>
        <h3 class="Keyword"><a name="CDF_1744428779_1006308"></a><a name="CDF_1744428779_1026493_Keywords_CDF_COMPRESSION_"></a>VARIABLE </h3>
        <p>Set this keyword to the name of a variable or a variable index to set the current variable. This keyword is mandatory when queering/setting the compression parameters of a rVariable or zVariable. Note that if VARIABLE is set to the index of a zVARIABLE, the ZVARIABLE keyword must also be set. If ZVARIABLE is not set, the variable is assumed to be an rVariable.</p>
        <h3 class="Keyword"><a name="CDF_1744428779_1006311"></a><a name="CDF_1744428779_1019982_Keywords_CDF_COMPRESSION_"></a>ZVARIABLE </h3>
        <p>Set this keyword if the current variable is a zVARIABLE and is referred to by index in the VARIABLE keyword. For example:</p>
        <p class="Code">CDF_COMPRESSION, id, VARIABLE=0, /ZVARIABLE,$ &#160;&#160;&#160;GET_VAR_COMPRESSION=vComp</p>
        <h2 class="NoTOC"><a name="CDF_1744428779_1019990_PageTOC_CDF_COMPRESSION_"></a>Examples</h2>
        <p class="Code">; Create a  CDF file and define the compression.</p>
        <p class="Code">; Compression only works on Single-File CDFs:</p>
        <p class="Code">id=CDF_CREATE('demo.cdf',[10,20],/CLOBBER,/SINGLE_FILE)</p>
        <p class="Code">CDF_COMPRESSION,id,SET_COMPRESSION=1 ; (Run-length encoding)</p>
        <p class="Code">att_id=CDF_ATTCREATE(id, 'Date',/GLOBAL)</p>
        <p class="Code">CDF_ATTPUT,id,'Date',att_id,systime()</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Change the compression type for the file to GZIP by using</p>
        <p class="Code">; SET_GZIP_LEVEL:</p>
        <p class="Code">CDF_COMPRESSION,id,SET_GZIP_LEVEL=7</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Retrieve compression information:</p>
        <p class="Code">CDF_COMPRESSION,id,GET_GZIP_LEVEL=glevel,GET_COMPRESSION=gcomp</p>
        <p class="Code">HELP,glevel,gcomp</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Create and compress an rVariable:</p>
        <p class="Code">rid=CDF_VARCREATE(id,'rvar0',[1,1],/CDF_FLOAT)</p>
        <p class="Code">CDF_COMPRESSION,id,SET_VAR_COMPRESSION=2,VARIABLE='rvar0'</p>
        <p class="Code">CDF_VARPUT,id,'rvar0',findgen(10,20,5)</p>
        <p class="Code">CDF_COMPRESSION,id,GET_VAR_COMPRESSION=v_comp,VARIABLE=rid,GET_VAR_GZIP_LEVEL=v_glevel</p>
        <p class="Code">HELP,v_comp,v_glevel</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Create and compress a  zVariable:</p>
        <p class="Code">zid=CDF_varcreate(id,'zvar0',[1,1,1],DIM=[10,20,30],/ZVARIABLE,$</p>
        <p class="Code">&#160;&#160;&#160;/CDF_DOUBLE)</p>
        <p class="Code">&#160;</p>
        <p class="Code">; You can set a compression and check it in the same call:</p>
        <p class="Code">CDF_COMPRESSION,id,SET_VAR_GZIP_LEVEL=9,VARIABLE=zid,/ZVARIABLE,$</p>
        <p class="Code">&#160;&#160;&#160;GET_VAR_GZIP_LEVEL=v_gzip</p>
        <p class="Code">HELP,v_gzip</p>
        <p class="Code">&#160;</p>
        <p class="Code">CDF_VARPUT,id,zid,dindgen(10,20,30),/ZVARIABLE</p>
        <p class="Code">&#160;</p>
        <p class="Code">; File and variable keywords can be combined in the same call</p>
        <p class="Code">; (Set calls are processed before Get calls)</p>
        <p class="Code">CDF_COMPRESSION,id,GET_VAR_COMPRESSION=v_comp,VARIABLE='zvar0',$</p>
        <p class="Code">&#160;&#160;&#160;/ZVARIABLE, SET_COMPRESSION=2,GET_COMPRESSION=file_comp</p>
        <p class="Code">HELP,file_comp,v_comp</p>
        <p class="Code">&#160;</p>
        <p class="Code">CDF_DELETE,id</p>
        <h4>IDL Output</h4>
        <p class="Code">GLEVEL          LONG      =            7</p>
        <p class="Code">GCOMP           LONG      =            5</p>
        <p class="Code">&#160;</p>
        <p class="Code">V_COMP          LONG      =            2</p>
        <p class="Code">V_GLEVEL        LONG      =            0</p>
        <p class="Code">&#160;</p>
        <p>(Note that V_GLEVEL is 0, since the variable compression is not GZIP.)</p>
        <p class="Code">V_GZIP          LONG      =            9</p>
        <p class="Code">&#160;</p>
        <p class="Code">FILE_COMP       LONG      =            2</p>
        <p class="Code">V_COMP          LONG      =            5</p>
        <h2 class="NoTOC"><a name="CDF_1744428779_1020062_PageTOC_CDF_COMPRESSION_"></a>Version History</h2>
        <p>&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">5.3</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="NoTOC"><a name="CDF_1744428779_1028607_PageTOC_CDF_COMPRESSION_"></a>See Also</h2>
        <p><a class="MCXref" href="CDF_CONTROL.html#CDF_1744428779_1006392">CDF_CONTROL</a>, <a class="MCXref" href="CDF_CREATE.html#CDF_1744428779_1006635">CDF_CREATE</a>, <a class="MCXref" href="CDF_OPEN.html#CDF_1744428779_1007948">CDF_OPEN</a>, <a class="MCXref" href="CDF_VARNUM.html#CDF_1744428779_1008959">CDF_VARNUM</a></p>
        <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>