<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: R" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>READ_PNG </title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/R/READ_PNG.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="R_CORRELATE.html">Routines: R</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">READ_PNG</span>
        </div>
        <h1 class="Routine"><a name="R_822202989_READ_PNG"><a name="R_822202989_1045821"></a><a name="R_822202989_39133"></a>READ_PNG </a>
        </h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#R_822202989_1045833">Syntax</a> | <a class="MCXref" href="#R_822202989_1045835">Return Value</a> | <a class="MCXref" href="#R_822202989_1081516">Arguments</a> | <a class="MCXref" href="#R_822202989_1045840">Keywords</a> | <a class="MCXref" href="#R_822202989_1045847">Examples</a> | <a class="MCXref" href="#R_822202989_1045873">Version History</a> | <a class="MCXref" href="#R_822202989_1092969">See Also</a></MadCap:conditionalText>
        </p>
        <p>The <a name="kanchor2223"></a>READ_PNG routine reads the image contents of a Portable Network Graphics (<a name="kanchor2224"></a>PNG) file and returns the image in an IDL variable. If the image contains a palette (see <a class="MCXref" href="../Q/QUERY_PNG.html#Q_815714925_1045630">QUERY_PNG </a>), it can be returned as well in three IDL variables. READ_PNG supports 1, 2, 3 and 4 channel images with channel depths of 8 or 16 bits.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>IDL supports version 1.2.7 of the <a name="kanchor2225"></a>PNG Library.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Only single channel 8-bit images may have palettes. If an 8-bit, single-channel image has index values marked as “transparent,” these can be retrieved as well.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>To find information about a potential PNG file before trying to read its data, use the <a class="MCXref" href="../Q/QUERY_PNG.html#Q_815714925_1045630">QUERY_PNG </a> function.</p>
        <h2><a name="R_822202989_1045833"></a><a name="R_822202989_1045833_PageTOC_READ_PNG_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = READ_PNG ( <i>Filename </i>[,&#160;<i>R</i>, <i>G</i>, <i>B</i>] [,/<a class="MCXref" href="#R_822202989_1045842">ORDER</a>] [,&#160;/<a class="MCXref" href="#R_822202989_1075225">VERBOSE</a>] [,&#160;<a class="MCXref" href="#R_822202989_1045845">TRANSPARENT</a>=<i>variable</i>] )</p>
        <p>or</p>
        <p class="Syntax">READ_PNG, <i>Filename, Image</i> [,&#160;<i>R</i>, <i>G</i>, <i>B</i>] [,/<a class="MCXref" href="#R_822202989_1045842">ORDER</a>] [,&#160;/<a class="MCXref" href="#R_822202989_1075225">VERBOSE</a>] [,&#160;<a class="MCXref" href="#R_822202989_1045845">TRANSPARENT</a>=<i>variable</i>]</p>
        <h2><a name="R_822202989_1045835"></a><a name="R_822202989_1045835_PageTOC_READ_PNG_"></a>Return Value</h2>
        <p>For 8-bit images, <i>Result</i> will be a two- or three-dimensional array of type byte. For 16-bit images, <i>Result</i> will be of type unsigned integer (UINT).</p>
        <h2><a name="R_822202989_1081516"></a><a name="R_822202989_1081516_PageTOC_READ_PNG_"></a>Arguments</h2>
        <h3 class="Argument">Filename</h3>
        <p>A scalar string containing the full pathname of the PNG file to read.</p>
        <h3 class="Argument">Image</h3>
        <p>A named variable in which the image array will be stored, if READ_PNG is called as a procedure. For 8-bit images, <i>Image</i> will be a two- or three-dimensional array of type byte. For 16-bit images, <i>Image</i> will be of type unsigned integer (UINT).</p>
        <h3 class="Argument">R, G, B</h3>
        <p>Named variables that will contain the Red, Green, and Blue color vectors if a color table exists. </p>
        <h2><a name="R_822202989_1045840"></a><a name="R_822202989_1045840_PageTOC_READ_PNG_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="R_822202989_1045842"></a><a name="R_822202989_1045842_Keywords_READ_PNG__"></a>ORDER</h3>
        <p>Set this keyword to indicate that the rows of the image should be read from bottom to top. The rows are read from top to bottom by default. ORDER provides compatibility with PNG files written using versions of IDL prior to IDL 5.4, which wrote PNG files from bottom to top.</p>
        <h3 class="Keyword"><a name="R_822202989_1075225"></a><a name="R_822202989_1075225_Keywords_READ_PNG__"></a>VERBOSE</h3>
        <p>Set this keyword to produce additional diagnostic output during the read operation.</p>
        <h3 class="Keyword"><a name="R_822202989_1045845"></a><a name="R_822202989_1045845_Keywords_READ_PNG__"></a>TRANSPARENT</h3>
        <p>Set this keyword equal to a named variable that will contain an array of pixel index values that are to be treated as “transparent” for the purposes of image display. If there are no transparent values then TRANSPARENT will be set to a long-integer scalar with the value 0.</p>
        <h2><a name="R_822202989_1045847"></a><a name="R_822202989_1045847_PageTOC_READ_PNG_"></a>Examples</h2>
        <p>Create an RGBA (16-bits/channel) and a Color Indexed (8-bit/channel) image with a palette:</p>
        <p class="IDLCode">PRO ex_read_png<br />rgbdata = UINDGEN(4,320,240)<br />cidata = BYTSCL(DIST(256))<br />red = indgen(256)<br />green = indgen(256)<br />blue = indgen(256)<br />WRITE_PNG,'rgb_image.png',rgbdata<br />WRITE_PNG,'ci_image.png',cidata,red,green,blue<br />;Query and read the data<br />names = ['rgb_image.png','ci_image.png','unknown.png']<br />FOR i=0,N_ELEMENTS(names)-1 DO BEGIN<br />&#160;&#160;&#160;ok = QUERY_PNG(names[i],s)<br />&#160;&#160;&#160;IF (ok) THEN BEGIN<br />&#160;&#160;&#160;&#160;&#160;&#160;HELP,s,/STRUCTURE<br />&#160;&#160;&#160;&#160;&#160;&#160;IF (s.HAS_PALETTE) THEN BEGIN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;img = READ_PNG(names[i],rpal,gpal,bpal)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HELP,img,rpal,gpal,bpal<br />&#160;&#160;&#160;&#160;&#160;&#160;ENDIF ELSE BEGIN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;img = READ_PNG(names[i])<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HELP,img<br />&#160;&#160;&#160;&#160;&#160;&#160;ENDELSE<br />&#160;&#160;&#160;ENDIF ELSE BEGIN<br />&#160;&#160;&#160;&#160;&#160;&#160;PRINT,names[i],' is not a PNG file'<br />&#160;&#160;&#160;ENDELSE<br />ENDFOR<br />END</p>
        <h2><a name="R_822202989_1045873"></a><a name="R_822202989_1045873_PageTOC_READ_PNG_"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">5.2</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="R_822202989_1092969"></a><a name="R_822202989_1092969_PageTOC_READ_PNG_"></a>See Also</h2>
        <p><a href="../I/IOPEN.html" target="" title="" alt="" class="MCXref">IOPEN</a>, <a href="../W/WRITE_PNG.html#W_811389549_950641" target="" title="" alt="" class="MCXref">WRITE_PNG </a>, <a href="../Q/QUERY_PNG.html#Q_815714925_1045630" target="" title="" alt="" class="MCXref">QUERY_PNG </a></p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>