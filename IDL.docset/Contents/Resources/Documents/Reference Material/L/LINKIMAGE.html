<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: L" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>LINKIMAGE </title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/L/LINKIMAGE.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="L64INDGEN.html">Routines: L</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">LINKIMAGE</span>
        </div>
        <h1 class="Routine"><a name="L_826528365_840842"></a><a name="L_826528365_83640"></a>LINKIMAGE </h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#L_826528365_855590">Syntax</a> | <a class="MCXref" href="#L_826528365_855592">Arguments</a> | <a class="MCXref" href="#L_826528365_855611">Keywords</a> | <a class="MCXref" href="#L_826528365_855645">Examples</a> | <a class="MCXref" href="#L_826528365_855652">Version History</a> | <a class="MCXref" href="#L_826528365_952303">See Also</a></MadCap:conditionalText>
        </p>
        <p>The <a name="kanchor1682"></a>LINKIMAGE procedure merges routines <a name="kanchor1683"></a>written in other languages with IDL at runtime. Each call to LINKIMAGE defines a new system procedure or function by specifying the routine’s name, the name of the file containing the code, and the entry point name. The name of your routine is added to IDL’s internal system routine table, making it available in the same manner as any other IDL built-in routine. LINKIMAGE can also be used to add graphics device drivers.</p>
        <p class="Warning" MadCap:autonum="&lt;b&gt;Warning: &lt;/b&gt;"><span class="autonumber"><span><b>Warning: </b></span></span>Using LINKIMAGE requires intimate knowledge of the internals of IDL, and is not for use by the novice user. We recommend use of CALL_EXTERNAL, which has a simpler interface, instead of LINKIMAGE unless your application specifically requires it. To use LINKIMAGE, you should be familiar with the material in the IDL <span class="Reference MaterialbkEDG">External Development Guide</span>.</p>
        <p>LINKIMAGE uses the dynamic linking interface supported by the operating system to do its work. Programmers should be familiar with the services supported by their system in order to better understand LINKIMAGE:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">Under UNIX, LINKIMAGE uses the <span class="Courier">dlopen()</span> interface to the dynamic linker.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">Under Windows, LINKIMAGE uses <span class="Courier">LoadLibrary()</span> to load a DLL.</td>
            </tr>
        </table>
        <p class="TableAnchor">&#160;</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Modules must be merged via LINKIMAGE before other procedures and functions that call them are compiled, or the compilation of those routines will fail. Note that because routines merged via LINKIMAGE are considered built-in routines by IDL, declaring the routine with the FORWARD_FUNCTION statement will not eliminate this restriction.</p>
        <h2><a name="L_826528365_855590"></a><a name="L_826528365_855590_PageTOC_LINKIMAGE_"></a>Syntax</h2>
        <p class="Syntax">LINKIMAGE, <i>Name</i>, <i>Image</i> [,&#160;<i>Type</i> [,&#160;<i>Entry</i>]] [,&#160;/<a class="MCXref" href="#L_826528365_855619">DEVICE</a>] [,&#160;/<a class="MCXref" href="#L_826528365_855622">FUNCT</a>] [,&#160;/<a class="MCXref" href="#L_826528365_855625">KEYWORDS</a>] [,&#160;<a class="MCXref" href="#L_826528365_855628">MAX_ARGS</a>=<i>value</i>] [,&#160;<a class="MCXref" href="#L_826528365_855632">MIN_ARGS</a>=<i>value</i>]</p>
        <h2><a name="L_826528365_855592"></a><a name="L_826528365_855592_PageTOC_LINKIMAGE_"></a>Arguments</h2>
        <h3 class="Argument">Name</h3>
        <p>A string containing the IDL name of the function, procedure or device routine which is to be merged. When loading a device driver, <i>Name</i> contains the name of the global DEVICE_DEF structure in the driver. Upon successful loading of the routine, a new procedure or function with the given name will exist, or the new device driver will be loaded.</p>
        <h3 class="Argument">Image</h3>
        <p>A string containing the full path specification of the dynamically loaded object file. See your system documentation on sharable libraries or DLLs for details.</p>
        <h3 class="Argument">Type</h3>
        <p>An optional scalar integer parameter that contains 0 (zero) for a procedure, 1 (one) for a function, and 2 for a device driver. The keyword parameters DEVICE and FUNCT can also be used to indicate the type of routine being merged. The default value is 0, for procedure.</p>
        <h3 class="Argument">Entry</h3>
        <p>An optional string that contains the name of the symbol which is the entry point of the procedure or function. With some compilers or operating systems, this name may require the addition of leading or trailing characters. For example, some UNIX C compilers add a leading underscore to the beginning of a function name, and some UNIX FORTRAN compilers add a trailing underscore.</p>
        <p>If <i>Entry</i> is not supplied, LINKIMAGE will provide a default name by converting the value suppled for <i>Name</i> to lower case and adding any special characters (leading or trailing underscores) typical of the system.</p>
        <p class="Warning" MadCap:autonum="&lt;b&gt;Warning: &lt;/b&gt;"><span class="autonumber"><span><b>Warning: </b></span></span>Under Microsoft Windows operating systems, only <span class="Courier">cdecl</span> functions can by used with LINKIMAGE. Attempting to use routines with other calling conventions will yield undefined results, including memory corruption or even IDL crashing.<br /><br />The Windows operating system has two distinct system defined standards that govern how routines pass arguments: <span class="Courier">stdcall</span>, which is used by much of the operating system as well as languages such as Visual Basic, and <span class="Courier">cdecl</span>, which is used widely for programming in the C language. These standards differ in how and when arguments are pushed onto the system stack. The standard used by a given function is determined when the function is compiled, and can be controlled by the programmer. LINKIMAGE can only be used with <span class="Courier">cdecl</span> functions. Unfortunately, there is no way for IDL to know which convention a given function uses, meaning that LINKIMAGE will quietly accept an entry point of the wrong type. The LINKIMAGE user is responsible for ensuring that Entry is a <span class="Courier">cdecl</span> function.</p>
        <h2><a name="L_826528365_855611"></a><a name="L_826528365_855611_PageTOC_LINKIMAGE_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="L_826528365_855619"></a><a name="L_826528365_855619_Keywords_LINKIMAGE__"></a>DEVICE</h3>
        <p>Set this keyword to indicate that the module being loaded contains a device driver.</p>
        <h3 class="Keyword"><a name="L_826528365_855622"></a><a name="L_826528365_855622_Keywords_LINKIMAGE__"></a>FUNCT</h3>
        <p>Set this keyword to indicate that the module being loaded contains a function.</p>
        <h3 class="Keyword"><a name="L_826528365_855625"></a><a name="L_826528365_855625_Keywords_LINKIMAGE__"></a>KEYWORDS</h3>
        <p>Set this keyword to indicate that the procedure or function being loaded accepts keyword parameters.</p>
        <h3 class="Keyword"><a name="L_826528365_855628"></a><a name="L_826528365_855628_Keywords_LINKIMAGE__"></a>MAX_ARGS</h3>
        <p>Set this keyword equal to the maximum number of non-keyword arguments the procedure or function accepts. If this keyword is not present, the maximum number of parameters is not checked when the routine is called.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>It is a very good idea to specify a value for MAX_ARGS. Passing the wrong number of arguments to an external routine may cause unexpected results, including causing IDL to crash. By forcing IDL to check the number of arguments before passing them to the linked routine, you will avoid parameter mismatch problems.</p>
        <h3 class="Keyword"><a name="L_826528365_855632"></a><a name="L_826528365_855632_Keywords_LINKIMAGE__"></a>MIN_ARGS</h3>
        <p>Set this keyword equal to the minimum number of non-keyword arguments accepted by the procedure or function.</p>
        <h2><a name="L_826528365_855645"></a><a name="L_826528365_855645_PageTOC_LINKIMAGE_"></a>Examples</h2>
        <p>To add a procedure called MY_PROC, whose entry symbol is named <span class="Courier">my_proc</span>, that is contained in the file <span class="Courier">/home/smith/my_proc.so</span>:</p>
        <p class="Code">LINKIMAGE, 'MY_PROC', '/home/smith/my_proc.so'</p>
        <h2><a name="L_826528365_855652"></a><a name="L_826528365_855652_PageTOC_LINKIMAGE_"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_ColSep">
                        <p class="CellBody">Pre 4.0</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">Pre 6.1</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Deprecated DEFAULT keyword</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="L_826528365_952303"></a><a name="L_826528365_952303_PageTOC_LINKIMAGE_"></a>See Also</h2>
        <p><a class="MCXref" href="../C/CALL_EXTERNAL.html#C_854643309_106442">CALL_EXTERNAL </a>, <a class="MCXref" href="../S/SPAWN.html#S_820040301_1076218" target="" title="" alt="">SPAWN </a>, and the IDL <span class="Reference MaterialbkEDG">External Development Guide</span>.</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>