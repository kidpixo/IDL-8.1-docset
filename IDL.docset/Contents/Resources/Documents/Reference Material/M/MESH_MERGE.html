<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: M" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>MESH_MERGE </title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Figure_Format.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/M/MESH_MERGE.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="M_CORRELATE.html">Routines: M</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">MESH_MERGE</span>
        </div>
        <h1 class="Routine"><a name="M_824365677_929930"></a><a name="M_824365677_68102"></a>MESH_MERGE </h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#M_824365677_948460">Syntax</a> | <a class="MCXref" href="#M_824365677_948462">Return Value</a> | <a class="MCXref" href="#M_824365677_948464">Arguments</a> | <a class="MCXref" href="#M_824365677_948473">Keywords</a> | <a class="MCXref" href="#M_824365677_953220">Examples</a> | <a class="MCXref" href="#M_824365677_968036">Version History</a> | <a class="MCXref" href="#M_824365677_972961">See Also</a></MadCap:conditionalText>
        </p>
        <p>The <a name="kanchor1847"></a>MESH_MERGE function merges two polygonal meshes.</p>
        <h2><a name="M_824365677_948460"></a><a name="M_824365677_948460_PageTOC_MESH_MERGE_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = MESH_MERGE (<i>Verts</i>, <i>Conn</i>, <span class="_Override" style="font-style: italic;">Verts1</span>, <i>Conn1</i> [,&#160;/<a class="MCXref" href="#M_824365677_948474">COMBINE_VERTICES</a>] [,&#160;<a class="MCXref" href="#M_824365677_948480">TOLERANCE</a>=<span class="_Override" style="font-style: italic;">value</span>]&#160;)</p>
        <h2><a name="M_824365677_948462"></a><a name="M_824365677_948462_PageTOC_MESH_MERGE_"></a>Return Value</h2>
        <p>The function return value is the number of triangles in the modified polygonal mesh connectivity array.</p>
        <h2><a name="M_824365677_948464"></a><a name="M_824365677_948464_PageTOC_MESH_MERGE_"></a>Arguments</h2>
        <h3 class="Argument">Verts</h3>
        <p>Input/Output array of polygonal vertices [3, <i>n</i>]. These are potentially modified and returned to the user.</p>
        <h3 class="Argument">Conn</h3>
        <p>Input/Output polygonal mesh connectivity array. This array is modified and returned to the user.</p>
        <h3 class="Argument">Verts1</h3>
        <p>Additional input polygonal vertex array [3, <i>n</i>].</p>
        <h3 class="Argument">Conn1</h3>
        <p>Additional input polygonal mesh connectivity array.</p>
        <h2><a name="M_824365677_948473"></a><a name="M_824365677_948473_PageTOC_MESH_MERGE_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="M_824365677_948474"></a><a name="M_824365677_948474_Keywords_MESH_MERGE__"></a>COMBINE_VERTICES</h3>
        <p>If this keyword is set, the routine will attempt to collapse vertices which are at the same location in space into single vertices. If the expression </p>
        <p style="text-align: center;">
            <img src="../../images/19_6.jpg" />
        </p>
        <p>is true, the points (<span class="_Override" style="font-style: italic;">i</span>) and (<span class="_Override" style="font-style: italic;">i</span>+1) can be collapsed into a single vertex. The result is returned as a modification of the <i>Verts</i> argument.</p>
        <h3 class="Keyword"><a name="M_824365677_948480"></a><a name="M_824365677_948480_Keywords_MESH_MERGE__"></a>TOLERANCE</h3>
        <p>This keyword is used to specify the tolerance value used with the COMBINE_VERTICES keyword. The default value is 0.0.</p>
        <h2><a name="M_824365677_953220"></a><a name="M_824365677_953220_PageTOC_MESH_MERGE_"></a>Examples</h2>
        <p>This example merges two simple meshes: a single square and a single right triangle. The right side of the square is in the same location as the left side of the triangle. Each mesh is originally its own <a name="kanchor1848"></a>polygon object. These objects are then added to a model object. The model is displayed in the XOBJVIEW utility. The XOBJVEW utility allows you to click-and-drag the polygon object to rotate and translate it. See <a class="MCXref" href="../X/XOBJVIEW.html#X_800576109_956910">XOBJVIEW </a> for more information on this utility.</p>
        <p>When you quit out of the first XOBJVIEW display, the second XOBJVIEW display will appear. The meshes are <a name="kanchor1849"></a>merged into a single polygon object. After you quit out of the second display, the final display shows the results of decimating the merged mesh to obtain the least number connections for these <a name="kanchor1850"></a>vertices. Decimation can often be used to refine the results of merging.</p>
        <p>This example is split into several parts; click on each section to enter the code at the IDL command line.</p>
        <p class="IDLCode">; Create a mesh of a single square (4 vertices<br />; connected counter-clockwise from the lower left<br />; corner of the mesh.<br />vertices = [[-2., -1., 0.], [0., -1., 0.], $<br />   [0., 1., 0.], [-2., 1., 0.]]<br />connectivity = [4, 0, 1, 2, 3]<br /><br />; Create a separate mesh of a single triangle (3<br />; vertices connected counter-clockwise from the lower<br />; left corner of the mesh.<br />triangleVertices = [[0., -1., 0.], [2., -1., 0.], $<br />   [0., 1., 0.]]<br />triangleConnectivity = [3, 0, 1, 2]<br /><br />; Initialize model for display.<br />oModel = OBJ_NEW('IDLgrModel')<br /><br />; Initialize polygon for the square mesh.<br />oPolygon = OBJ_NEW('IDLgrPolygon', vertices, $<br />   POLYGONS = connectivity, COLOR = [0, 128, 0], $<br />   STYLE = 1)<br /><br />; Initialize polygon for the triangle mesh.<br />oTrianglePolygon = OBJ_NEW('IDLgrPolygon', $<br />   triangleVertices, POLYGONS = triangleConnectivity, $<br />   COLOR = [0, 0, 255], STYLE = 1)</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;</p>
        <p class="IDLCode">; Add both polygons to the model.<br />oModel-&gt;Add, oPolygon<br />oModel-&gt;Add, oTrianglePolygon<br /><br />; Display the model in the XOBJVIEW utility.<br />XOBJVIEW, oModel, /BLOCK, $<br />   TITLE = 'Two Separate Meshes'<br /><br />; Merge the square and triangle into a single mesh.<br />numberTriangles = MESH_MERGE(vertices, $<br />   connectivity, triangleVertices, $<br />   triangleConnectivity, /COMBINE_VERTICES)<br /><br />; Output number of resulting vertices and triangles.<br />numberVertices = SIZE(vertices, /DIMENSIONS)<br />PRINT, 'numberVertices = ', numberVertices[1]<br />PRINT, 'numberTriangles = ', numberTriangles<br /><br />; Cleanup triangle polygon object, which is no longer<br />; needed.<br />OBJ_DESTROY, [oTrianglePolygon]<br /><br />; Update remaining polygon object with the results from<br />; merging the two meshes together.<br />oPolygon-&gt;SetProperty, DATA = vertices, $<br />   POLYGONS = connectivity, COLOR = [0, 128, 128]</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;</p>
        <p class="IDLCode">; Display results.<br />XOBJVIEW, oModel, /BLOCK, $<br />   TITLE = 'Result of Merging the Meshes into One'<br /><br />; Decimate polygon to 75 percent of the original<br />; number of vertices.<br />numberTriangles = MESH_DECIMATE(vertices, connectivity, $<br />   decimatedConnectivity, PERCENT_POLYGONS = 75)<br /><br />; Output number of resulting triangles.<br />PRINT, 'After Decimation:  numberTriangles = ', numberTriangles<br /><br />; Update polygon with results from decimating.<br />oPolygon-&gt;SetProperty, DATA = vertices, $<br />   POLYGONS = decimatedConnectivity, COLOR = [0, 0, 0]<br /><br />; Display decimation results.<br />XOBJVIEW, oModel, /BLOCK, $<br />  TITLE = 'Decimation of Mesh'<br /><br />; Cleanup object references.<br />OBJ_DESTROY, [oModel]</p>
        <p>The results for this example are shown in the following figure: original, separate meshes (left), merged mesh (center) and decimated mesh (right).</p>
        <table style="width: 517px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Figure_Format.css');" class="TableStyle_Figure_Format" cellspacing="0">
            <col width="517px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Figure_Format_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">&#160;</p>
                        <p style="text-align: center;">
                            <img src="../../images/mesh_merge.gif" style="margin-left: 3.49992px;margin-top: 4.74984px;margin-right: 0.2505682px;margin-bottom: 2.930389px;" />
                        </p>
                    </td>
                </tr>
            </tbody>
            <caption valign="bottom" style="padding-bottom: 12pt;">
                <p class="FigureTitle">Original (left), Merged (center), and Decimated Meshes (right)</p>
            </caption>
        </table>
        <h2><a name="M_824365677_968036"></a><a name="M_824365677_968036_PageTOC_MESH_MERGE_"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">5.5</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="M_824365677_972961"></a><a name="M_824365677_972961_PageTOC_MESH_MERGE_"></a>See Also</h2>
        <p><a class="MCXref" href="MESH_CLIP.html#M_824365677_888450">MESH_CLIP </a>, <a class="MCXref" href="MESH_DECIMATE.html#M_824365677_953124">MESH_DECIMATE </a>, <a class="MCXref" href="MESH_ISSOLID.html#M_824365677_929914">MESH_ISSOLID </a>, <a class="MCXref" href="MESH_NUMTRIANGLES.html#M_824365677_929942">MESH_NUMTRIANGLES </a>, <a class="MCXref" href="MESH_OBJ.html#M_824365677_929903">MESH_OBJ </a>, <a class="MCXref" href="MESH_SMOOTH.html#M_824365677_929954">MESH_SMOOTH </a>, <a class="MCXref" href="MESH_SURFACEAREA.html#M_824365677_929966">MESH_SURFACEAREA </a>, <a class="MCXref" href="MESH_VALIDATE.html#M_824365677_929978">MESH_VALIDATE </a>, <a class="MCXref" href="MESH_VOLUME.html#M_824365677_929990">MESH_VOLUME </a></p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>