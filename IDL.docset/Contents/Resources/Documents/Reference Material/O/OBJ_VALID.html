<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Routines (alphabetical)|Routines: O" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>OBJ_VALID </title>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Version_Table.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../idl_CSH.html#Reference Material/O/OBJ_VALID.html" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="OBJ_CLASS.html">Routines: O</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">OBJ_VALID</span>
        </div>
        <h1 class="Routine"><a name="O_828691053_889488"></a><a name="O_828691053_20524"></a>OBJ_VALID </h1>
        <p class="CellBody" MadCap:conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText MadCap:conditions="Reference Material.Online_Help_Only"><a class="MCXref" href="#O_828691053_889498">Syntax</a> | <a class="MCXref" href="#O_828691053_934075">Return Value</a> | <a class="MCXref" href="#O_828691053_889500">Arguments</a> | <a class="MCXref" href="#O_828691053_889503">Keywords</a> | <a class="MCXref" href="#O_828691053_889510">Examples</a> | <a class="MCXref" href="#O_828691053_931659">Version History</a> | <a class="MCXref" href="#O_828691053_956052">See Also</a></MadCap:conditionalText>
        </p>
        <p>The <a name="kanchor1972"></a>OBJ_VALID function verifies the validity of its argument <a name="kanchor1973"></a>object references, or alternatively returns a vector of references to valid objects.</p>
        <h2><a name="O_828691053_889498"></a><a name="O_828691053_889498_PageTOC_OBJ_VALID__"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = OBJ_VALID( [<i>Arg</i>] [,&#160;/<a class="MCXref" href="#O_828691053_889505">CAST</a>] [,&#160;<a class="MCXref" href="#O_828691053_889508">COUNT</a>=<i>variable</i>] [,&#160;/<a class="MCXref" href="#O_828691053_957959">GET_HEAP_IDENTIFIER</a>] )</p>
        <h2><a name="O_828691053_934075"></a><a name="O_828691053_934075_PageTOC_OBJ_VALID__"></a>Return Value</h2>
        <p>If called with an integer or array of object references as its argument, OBJ_VALID returns a byte array of the same size as the argument. Each element of the result is set to True (1) if the corresponding object reference in the argument refers to an existing object, and False (0) otherwise. If the GET_HEAP_IDENTIFIER keyword is set, OBJ_VALID returns the heap object identifier value(s) for the input object reference(s).</p>
        <p>If called with an integer or array of integers as its argument and the CAST keyword is set, OBJ_VALID returns an array of object references. Each element of the result is a reference to the heap variable indexed by the integer value. Integers used to index heap variables are shown in the output of the HELP and PRINT commands. This is useful primarily in programming/debugging when the you have lost a reference but see it with HELP and need to get a reference to it interactively in order to determine what it is and take steps to fix the code. See the “<a class="MCXref" href="#O_828691053_889510">Examples</a>” section below for an example.</p>
        <p>If no argument is specified, OBJ_VALID returns a vector of references to all existing valid objects. If no valid objects exist, a scalar null object reference is returned. </p>
        <h2><a name="O_828691053_889500"></a><a name="O_828691053_889500_PageTOC_OBJ_VALID__"></a>Arguments</h2>
        <h3 class="Argument">Arg</h3>
        <p>An object reference or array of object references. If the CAST keyword is set, then <i>Arg</i> should contain a scalar integer or array of integers.</p>
        <h2><a name="O_828691053_889503"></a><a name="O_828691053_889503_PageTOC_OBJ_VALID__"></a>Keywords</h2>
        <h3 class="Keyword"><a name="O_828691053_889505"></a><a name="O_828691053_889505_Keywords_OBJ_VALID__"></a>CAST</h3>
        <p>Set this keyword to cast integers contained in <i>Arg</i> to their corresponding object references, and to return the object references in <i>Result</i>. If an integer contained in <i>Arg</i> does not correspond to a valid object reference, a null object is returned in that integer’s place. If <i>Arg</i> contains object references rather than integers, the object references are simply returned. See the “<a class="MCXref" href="#O_828691053_889510">Examples</a>” section below for an example.</p>
        <h3 class="Keyword"><a name="O_828691053_889508"></a><a name="O_828691053_889508_Keywords_OBJ_VALID__"></a>COUNT</h3>
        <p>Set this keyword equal to a named variable that will contain the number of currently valid objects. This value is returned as a longword integer.</p>
        <h3 class="Keyword"><a name="O_828691053_957959"></a><a name="O_828691053_58270"></a>GET_HEAP_IDENTIFIER</h3>
        <p>If <i>Arg</i> is an integer or array of object references, set this keyword to return the heap object identifier value(s) instead of the default array of True or False values. The value(s) will be unsigned long integers, and the return value will have the same dimensions as <i>Arg</i>.</p>
        <h2><a name="O_828691053_889510"></a><a name="O_828691053_889510_PageTOC_OBJ_VALID__"></a>Examples</h2>
        <p>To determine if a given object reference refers to a valid heap variable, use:</p>
        <p class="Code">&#160;&#160;&#160;IF (OBJ_VALID(obj)) THEN …</p>
        <p>To destroy all existing pointer heap variables:</p>
        <p class="Code">&#160;&#160;&#160;OBJ_DESTROY, OBJ_VALID()</p>
        <p>You can use the CAST keyword to “reclaim” lost object references. For example:</p>
        <p class="IDLCode">; Create a class structure:<br />junk = {junk, data1:0, data2:0.0}<br /><br />; Create an object:<br />A = OBJ_NEW('junk')<br /><br />; Find the integer index:<br />PRINT, A<br /><br />; If we reassign the variable A, we will "lose" the object<br />; reference, but the heap variable will still exist.<br />; Lose the object reference:<br />A = 0<br />PRINT, A, OBJ_VALID()<br /><br />; We can reclaim a lost heap variable using the CAST keyword:<br />A = OBJ_VALID(1, /CAST)<br />PRINT, A</p>
        <p>The IDL output looks something like this (the valid objects already in memory will affect the output):</p>
        <p class="Code">&lt;ObjHeapVar3(JUNK)&gt;</p>
        <p class="Code">0 &lt;ObjHeapVar3(JUNK)&gt;</p>
        <p class="Code">&lt;ObjHeapVar3(JUNK)&gt;</p>
        <h2><a name="O_828691053_931659"></a><a name="O_828691053_931659_PageTOC_OBJ_VALID__"></a>Version History</h2>
        <p class="TableAnchor">&#160;</p>
        <table class="TableStyle_Version_Table" style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Version_Table.css');" cellspacing="0">
            <col width="91px" />
            <col width="408px" />
            <tbody>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_ColSep">
                        <p class="CellBody">5.0</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_ColEnd">
                        <p class="CellBody">Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColSep">
                        <p class="CellBody">8.0</p>
                    </td>
                    <td class="TableStyle_Version_Table_Body_0_0_RowEnd_ColEnd">
                        <p class="CellBody">Added GET_HEAP_IDENTIFIER keyword</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="O_828691053_956052"></a><a name="O_828691053_956052_PageTOC_OBJ_VALID__"></a>See Also</h2>
        <p><a class="MCXref" href="OBJ_CLASS.html#O_828691053_955134" target="" title="" alt="">OBJ_CLASS </a>, <a class="MCXref" href="OBJ_ISA.html#O_828691053_889439" target="" title="" alt="">OBJ_ISA </a>, <a class="MCXref" href="OBJ_NEW.html#O_828691053_889454" target="" title="" alt="">OBJ_NEW</a>, <a target="" title="" alt="" class="MCXref" xrefformat="{paratext}">Overview of Object Graphic Destination</a><a target="" title="" alt="" class="MCXref" xrefformat="{paratext}">s&#160;</a></p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>