<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="72" MadCap:lastWidth="697" MadCap:disableMasterStylesheet="true" MadCap:tocPath="" MadCap:medium="non-print" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="idl.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0014)about:internet -->
    <head><title>Coordinate Conversions</title>
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/Table_Format.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../idl_CSH.html#Direct Graphics/Coordinate_Conversions.html" style="">Open topic with navigation</a>
        </p>
        <h1><a name="Using_DG_66131095_1031942"></a><a name="Using_DG_66131095_75137"></a>Coordinate Conversions</h1>
        <p>Depending upon the data and type of visualization, you may want to convert between normalized, data or device coordinates. This section details two-dimensional and three-dimensional coordinate system characteristics and provides resources for various coordinate conversions. See the following for details:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><a class="MCXref" href="#Using_DG_66131095_1032003" target="" title="" alt="">Two-Dimensional Coordinate Conversion</a>
                </td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><a class="MCXref" href="#Using_DG_66131095_1031959" target="" title="" alt="">Three-Dimensional Coordinate Conversion</a>
                </td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><a class="MCXref" href="#Using_DG_66131095_1031953" target="" title="" alt="">Using Coordinate Conversions</a>
                </td>
            </tr>
        </table>
        <h2><a name="Using_DG_66131095_1032003"></a><a name="Using_DG_66131095_35708"></a>Two-Dimensional Coordinate Conversion</h2>
        <p><a name="kanchor5013"></a>This section describes the formulae for conversions to and from each coordinate system. In the following discussion, <i>D</i><span class="SubScript">x</span> is a data coordinate, <i>N</i><span class="SubScript">x</span> is a normalized coordinate, and <i>R</i><span class="SubScript">x</span> is a raw device coordinate. Let <i>V</i><span class="SubScript">x</span> and <i>V</i><span class="SubScript">y</span> represent the size of the visible area of the currently selected display or drawing surface.</p>
        <p>The field S is a two-element array of scaling factors used to convert X coordinates from data units to normalized units. S contains the parameters of the linear equation, converting data coordinates to normalized coordinates. S[0] is the intercept, and S[1] is the slope. Also, let <i>D</i><span class="SubScript">x</span> be the data coordinate, <i>N</i><span class="SubScript">x</span> the normalized coordinate, <i>R</i><span class="SubScript">x</span> the device coordinate, <i>V</i><span class="SubScript">x</span> the device X size (in device coordinates).</p>
        <p>With the above variables defined, the linear two-dimensional coordinate conversions for the <i>x</i> coordinate can be written as follows: </p>
        <table style="width: 501px;caption-side: bottom;mc-table-style: url('../Resources/TableStyles/Table_Format.css');" class="TableStyle_Table_Format" cellspacing="0">
            <col width="134px" />
            <col width="179px" />
            <col width="188px" />
            <thead>
                <tr>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Coordinate Conversion</p>
                    </td>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColSep">
                        <p class="CellHeading">Linear</p>
                    </td>
                    <td class="TableStyle_Table_Format_Head_0_0_RowSep_ColEnd">
                        <p class="CellHeading">Logarithmic</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Data to normal</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_4.jpg" /></i>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_5.jpg" /></i>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">Data to device</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_6.jpg" /></i>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_7.jpg" /></i>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Normal to device</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_8.jpg" /></i>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_9.jpg" /></i>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody">Normal to data</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColSep">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_10.jpg" /></i>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowSep_ColEnd">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_11.jpg" /></i>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody">Device to data</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColSep">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_12.jpg" /></i>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_0_0_RowSep_ColEnd">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_13.jpg" /></i>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody">Device to normal</p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColSep">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_14.jpg" /></i>
                        </p>
                    </td>
                    <td class="TableStyle_Table_Format_Body_1_0_RowEnd_ColEnd">
                        <p class="CellBody" style="font-family: Times;font-style: italic;letter-spacing: 0em;"><i><img src="8_15.jpg" /></i>
                        </p>
                    </td>
                </tr>
            </tbody>
            <caption valign="bottom" style="padding-bottom: 12pt;">
                <p class="TableTitle">Equations for X-axis Coordinate Conversion</p>
            </caption>
        </table>
        <p>The <i>y-</i> and <i>z</i>-axis coordinates are converted in exactly the same manner, with the exception that there is no <i>z</i> device coordinate and that logarithmic <i>z</i>-axes are not permitted.</p>
        <p>This coordinate conversion functionality is built into object graphics through the XCOORD_CONVERT and YCOORD_CONVERT properties or each type of visualization object. If you are working with a Direct Graphics display, you can use the <a class="MCXref" href="../Reference Material/C/CONVERT_COORD.html" target="" title="" alt="">CONVERT_COORD </a>function. </p>
        <h2><a name="Using_DG_66131095_1031959"></a><a name="Using_DG_66131095_38612"></a>Three-Dimensional <a name="kanchor5014"></a>Coordinate Conversion</h2>
        <p>To convert from a three-dimensional coordinate to a two-dimensional coordinate, IDL follows these steps:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">Data coordinates are converted to three-dimensional normalized coordinates. To convert the <i>x</i> coordinate from data to normalized coordinates, use the formula <i>N</i><span class="SubScript">x</span> = <i>X</i><span class="SubScript">0</span> + <i>X</i><span class="SubScript">1</span><i>D</i><span class="SubScript">x</span>. The same process is used to convert the <i>y</i> and <i>z</i> coordinates using !Y.S and !Z.S.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The three-dimensional normalized coordinate, P = (<i>N</i><span class="SubScript">x</span>, <i>N</i><span class="SubScript">y</span>, <i>N</i><span class="SubScript">z</span>), whose homogeneous representation is (<i>N</i><span class="SubScript">x</span>, <i>N</i><span class="SubScript">y</span>, <i>N</i><span class="SubScript">z</span>, 1), is multiplied by the concatenated transformation matrix !P.T:</td>
            </tr>
        </table>
        <p class="Indent2">P′ = <i>P</i>•<span class="Courier">!P.T</span></p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The vector P′ is scaled by dividing by <i>w</i>, and the normalized two-dimensional coordinates are extracted:</td>
            </tr>
        </table>
        <p class="Indent2"><i>N</i>′<span class="SubScript" style="font-family: Times;font-style: italic;">x</span> = <i>P</i>′<span class="SubScript" style="font-family: Times;font-style: italic;">x</span>/<i>P</i>′<span class="SubScript" style="font-family: Times;font-style: italic;">w</span> and <i>N</i>′<span class="SubScript" style="font-family: Times;font-style: italic;">y</span> = <i>P</i>′<span class="SubScript" style="font-family: Times;font-style: italic;">y</span>/<i>P</i>′<span class="SubScript" style="font-family: Times;font-style: italic;">w</span></p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top">The normalized <i>xy</i> coordinate is converted to device coordinates.</td>
            </tr>
        </table>
        <h2><a name="Using_DG_66131095_1031953"></a><a name="Using_DG_66131095_45463"></a>Using Coordinate Conversions</h2>
        <p>How coordinate conversions are defined depend upon the display type as follows:</p>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><span class="Bold">iTools </span>— in an iTool display, the interactive nature of the tool makes coordinate conversions transparent. There is no need to programmatically configure the transformation matrices of the objects.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><span class="Bold">Object Graphics</span> — converting an object’s data coordinates into normalized coordinates for display is a common task.   <![CDATA[ ]]></td>
            </tr>
        </table>
        <table class="AutoNumber_p_Bullet" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 16px;" />
            <col style="width: 24px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Bullet" valign="top"><span>• </span>
                </td>
                <td class="AutoNumber_p_Bullet" MadCap:autonum="• " valign="top"><span class="Bold">Direct Graphics</span> — the IDL Direct Graphics system automatically positions and sizes static visualizations so there is no need to set up a transformation matrix. However, you can convert between the supported coordinate systems. </td>
            </tr>
        </table>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>